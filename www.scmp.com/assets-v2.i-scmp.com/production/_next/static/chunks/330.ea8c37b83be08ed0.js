try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="6eccf43f-f395-4648-8cdd-20d286a7ceda",e._sentryDebugIdIdentifier="sentry-dbid-6eccf43f-f395-4648-8cdd-20d286a7ceda")}()}catch(e){}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[330],{2096:(e,t,n)=>{n.d(t,{R:()=>m,g:()=>y}),n(86348);var r=n(40932);n(19072),n(45582),n(61189),n(92817);var i=n(87057),l=n(61044),a=n(40485),o=n(69330),s=n(54389),c=n(21482),u=n(74301),d=n(3478),p=n(82673),g=n(99348),b=n(57254),v=n(72740);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach(function(t){(0,r.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let y=()=>{let[e,t]=(0,a.fp)(b.B),n=(0,o.useCallback)(e=>{let{ga4CustomParameter:t,isShow:n}=e;n&&(0,p.z2)(t)&&(async()=>{await (0,g.a)({priority:"background"}),(0,v.UL)({action:"imp",category:"login",customized_parameters:t,subcategory:"popup"})})()},[]);return{closeLoginDialog:(0,o.useCallback)(()=>{t(e=>O(O({},e),{},{description:"",destination:"",emailLoginTitle:"Sign In / Register",isVisible:!1,title:"Sign In / Register"})),n({ga4CustomParameter:void 0,isShow:!1})},[t,n]),loginDialogState:e,openLoginDialog:(0,o.useCallback)(e=>{t(O(O({},e),{},{description:e.description??"",emailLoginTitle:"Sign In / Register",isVisible:!0,title:e.title??"Sign In / Register",variant:"dialog"})),n({ga4CustomParameter:e.ga4CustomParameter,isShow:!0})},[t,n]),setLoginDialogState:t}},m=()=>{let{loginDialogState:e}=y(),{attachEventHandlers:t,detachEventHandlers:n}=(()=>{let{loginDialogState:e,setLoginDialogState:t}=y(),n=(0,a.Xr)(u.R),{0:r,1:l}=(0,o.useState)([]);return{attachEventHandlers:(0,o.useCallback)(()=>{e.wallType&&localStorage.removeItem(e.wallType);let r=[],a=i.on(i.EVENT.EMAIL_REGISTRATION_SUCCESS,e=>{n(e.email)});"function"==typeof a&&r.push(a);let o=i.on(i.EVENT.EMAIL_REGISTRATION_COMPLETED,t=>{let n,r;location.href=(n=new URL(window.location.href),(r=new URL(`${c.$.account.registerCallbackUrl}${(0,d.QS)(t.email)}`)).searchParams.set("source","pwa"),e.destination&&r.searchParams.set("destination",e.destination),n.searchParams.set("destination",encodeURIComponent(r.href)),e.registrationTerm&&n.searchParams.set(e.registrationTerm,"true"),n.toString())});"function"==typeof o&&r.push(o);let u=i.on(i.EVENT.OPEN_WITH_EXTERNAL_BROWSER,()=>{t(e=>O(O({},e),{},{variant:"dialog-with-primary-close-button-only"}))});"function"==typeof u&&r.push(u),[{event:i.EVENT.APPLE_LOGIN_BUTTON_CLICKED,loginMethod:"Apple"},{event:i.EVENT.GOOGLE_LOGIN_BUTTON_CLICKED,loginMethod:"Google"},{event:i.EVENT.FACEBOOK_LOGIN_BUTTON_CLICKED,loginMethod:"Facebook"}].forEach(t=>{let{event:n,loginMethod:l}=t,a=i.on(n,()=>{e.wallType&&(0,s.g$)(e.wallType,l)});"function"==typeof a&&r.push(a)}),l(r)},[t,e.destination,e.registrationTerm,e.wallType,n]),detachEventHandlers:(0,o.useCallback)(()=>{0!==r.length&&(r.forEach(e=>e()),l([]))},[r])}})(),r=(0,l.J)(n);return{reference:(0,o.useCallback)(n=>{if(!e.isVisible||!n)return void r.current();i.init({APPLICATION:e.application,DESTINATION:e.destination});let l=(0,s.fu)();i.initLoginWidget(n.id,{destination:e.destination,emailLoginTitle:e.emailLoginTitle,isInWebView:l,loginDescription:e.description,registerSource:"regi"===e.wallType?"loginwall":"",thirdPartySignInOptions:{withApple:!0,withFacebook:!0,withGoogle:!l},title:e.title}),t()},[t,r,e.application,e.description,e.destination,e.emailLoginTitle,e.isVisible,e.title,e.wallType])}}},6321:(e,t,n)=>{n.d(t,{I4:()=>u,W5:()=>c,gl:()=>s,oe:()=>d}),n(45582),n(86348),n(61189);var r=n(40932);n(19072);var i=n(69754),l=n(72740);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){(0,r.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function s(e,t){var n;null==(n=window.dataLayer)||n.push(e)}function c(e){var t;null==(t=window.dataLayer)||t.push({subscribe:(0,i.fs)(e)})}function u(e,t){var n;null==(n=window.dataLayer)||n.push(e)}function d(e){u({_clear:!0,event:"VirtualPageview",page:o(o(o({},e),(0,l.Rf)()&&{product:"plus"}),!e.page_location&&{page_location:window.location.href}),subscribe:e.subscribe})}},15347:(e,t,n)=>{n.d(t,{w:()=>s});var r=n(44061),i=n(40485),l=n(69330),a=n(21482),o=n(75633);let s=()=>{let e=(0,i.md)(o.E);return{getActiveCampaignSettings:(0,l.useCallback)(()=>{var t,n,i,l,o,s,c;if(!(null!=e&&null!=(t=e.result)&&t.instance))return null;let u=null==e||null==(n=e.result.instance)?void 0:n.getRosettaAppConfig(),d=null==e||null==(i=e.result)||null==(i=i.user)||null==(i=i.types)?void 0:i.scmp,p=((null==e||null==(l=e.result)?void 0:l.hasPianoExperienceExecuted)&&(null==(o=r.IO.loadedInstance)||null==(o=o.customVariables)?void 0:o.currency))??(null==e||null==(s=e.result)||null==(s=s.instance)?void 0:s.rulesEngine.getOutcome("guest.currency"));return null!=u&&u.campaignConfigs&&d&&p?r.Hu.resolveActiveCampaignSettings({configurations:u.campaignConfigs,context:{app:{env:a.$.rosetta.contentService.environment},user:{conversions:(null==e||null==(c=e.result.instance)?void 0:c.rulesEngine.getFact("allPublisherConversions"))??[],currency:p,type:d}}}):null},[null==e?void 0:e.result])}}},21022:(e,t,n)=>{n.d(t,{n:()=>a});var r=n(61044),i=n(69330),l=n(28926);function a(e,t,n){let[a,o,s]=(0,l.$)(e,n),c=(0,r.J)(t);return{remove:s,update:o,value:(0,i.useMemo)(()=>a&&c.current(a),[c,a])}}},26998:(e,t,n)=>{n.d(t,{x:()=>_}),n(19072),n(86348),n(61189);var r=n(40932);n(86401),n(45582),n(32496),n(1282);var i=n(98224),l=n(40485),a=n(69330),o=n(92698),s=n(78950),c=n(58014),u=n(31158);n(40970);let d={kind:"InlineDataFragment",name:"atomsCurrentTakeoverAdSectionsAtomBase"};d.hash="3b59f03b1ffc59ac7ac58957e801dbee";var p=n(38353),g=n(82915),b=n(95871);let v=(0,p.eU)(e=>{var t,n;let r=e(b.a);if(!r)return[];let i=(0,g.readInlineData)(d,r);switch(i.__typename){case"Article":if(!(null!=(t=i.sections)&&t.length))return[];return i.sections.flatMap(e=>(null==e?void 0:e.value)??[]).flatMap(e=>(null==e?void 0:e.entityId)??[]);case"Section":return(null==(n=i.fullSectionPath)?void 0:n.flatMap(e=>(null==e?void 0:e.entityId)??[]))??[];default:return[]}});var f=n(77566),O=n(79880),y=n(84852),m=n(75633);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach(function(t){(0,r.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let _=e=>{var t;let{adSlotProps:n,variant:r}=e,{advertisementCampaignConfig:d,navigatorInfo:p}=(0,l.md)(y.X),g=(0,o.O)(),b=(0,l.md)(m.E),w=(0,l.md)(v),_=(0,s.LW)(),P=(0,a.useMemo)(()=>r===f.U?d.takeoverAd.style:"home"===r?d.takeoverAd.homepage:null,[d.takeoverAd.homepage,d.takeoverAd.style,r]),E=(0,i.l)(()=>{if(P)return{adSlotValue:{adUnit:"hpto1",autoRefreshOptions:{intervalRefreshOptions:{isDisable:!0}},targeting:h(h({},null==n?void 0:n.targeting),{},{hpto:u.ZM.Bottom,paid:u.G3.NotArticle}),zone:(null==n?void 0:n.zone)??"style/home"}}},[w,P,g]),S=(0,a.useMemo)(()=>(0,O.t)(w),[w]),j=(0,a.useMemo)(()=>{let e,t,n;return!!P&&!!E&&(P.takeoverAlwaysEnable||(e=new Date,t=new Date(P.startDateTime),n=new Date(P.endDateTime),P.enableTakeoverByDateTime&&e>=t&&e<=n))},[P,E]),T=(0,a.useMemo)(()=>{if(!P||!E)return!1;let e=r===f.U&&g===c.g.Article&&P.enableInPageTypes.article.enable,t=r===f.U&&g===c.g.Section&&S&&P.enableInPageTypes.mainSection.enable,n=r===f.U&&g===c.g.SubSection&&!S&&P.enableInPageTypes.subSection.enable,i=0===P.takeoverEdition.length&&"home"===r||"home"===r&&P.takeoverEdition.length>0&&P.takeoverEdition.includes(_);return e||t||n||i},[_,P,E,g,S,r]);return{isEnableTakeoverBottomAdSlot:(0,a.useMemo)(()=>!!P&&!!E&&!!(j&&T)&&!!((0===P.ipAddress.length||((null==p?void 0:p.ip.split(",").map(e=>e.trim()))??[]).some(e=>P.ipAddress.includes(e)))&&(()=>{let e=P.country??[];if(0===e.length)return!0;let t=(null==p?void 0:p.country)??"";return e.includes(t)})()&&(()=>{var e;if(!P.targetSubscribersOnly&&!P.targetNonSubscribersOnly||P.targetSubscribersOnly&&P.targetNonSubscribersOnly)return!0;let t=(null==b||null==(e=b.result)||null==(e=e.user)?void 0:e.isSCMPSubscriber)??!1,n=P.targetSubscribersOnly&&t,r=P.targetNonSubscribersOnly&&!t;return n||r})()),[P,E,j,T,null==p?void 0:p.ip,null==p?void 0:p.country,null==b||null==(t=b.result)||null==(t=t.user)?void 0:t.isSCMPSubscriber]),takeoverAdSlotValue:null==E?void 0:E.adSlotValue}}},28926:(e,t,n)=>{n.d(t,{$:()=>s});var r=n(61044),i=n(91555),l=n(67571),a=n(99523),o=n(69330);let s=(e,t)=>{let n=(0,r.J)(t),s=(0,i.S)(),{0:c,1:u}=(0,o.useState)(()=>s&&null!=t&&t.initializeWithValue?a.A.get(e)??null:null),d=(0,o.useCallback)(t=>{a.A.set(e,t,n.current),u(t)},[e,n]),p=(0,o.useCallback)(()=>{a.A.remove(e),u(null)},[e]);return(0,l.u)(()=>{let t=a.A.get(e);!c&&t&&u(t)}),[c,d,p]}},31158:(e,t,n)=>{var r,i;n.d(t,{G3:()=>u,LZ:()=>d,T$:()=>a,ZM:()=>c,aU:()=>s}),n(86401);let l=["d_native1","d_native2","d_native2a","d_native2b","d_native2c","d_native2d","d_native2e","d_native3b","d_native5","m_native2","m_native2a","m_native2b","m_native2c","m_native2d","m_native2e","m_native5","native4","native5"];function a(e){return l.includes(e)}let o=["outstream1"];function s(e){return o.includes(e)}[...l,...o];let c=((r={}).Bottom="2",r.Top="1",r),u=((i={}).Free="0",i.NotArticle="3",i.Paid="1",i.PaidArchive="1_archive",i.PaidVelocity="1_velocity",i.Sponsored="2",i),d=["avg_first_second","avg_sent_1_5","gs_adult","gs_client1","gs_client2","gs_client3","gs_drugs","gs_gambling","gs_hkprotests","gs_offensive_language","gs_terrorism","gs_tobacco","gs_tragedy","gs_violence","headline_score","readability_school_level","sentiment_category","sentiment_max","sentiment_min"]},43109:(e,t,n)=>{n.d(t,{O:()=>p});var r=n(44061),i=n(40485),l=n(69330),a=n(92698),o=n(58014),s=n(26998),c=n(61374),u=n(75633),d=n(15347);let p=()=>{var e;let{isAccepted:t}=(0,i.md)(c.J),n=(0,i.md)(u.E),p=(0,a.O)(),{isEnableTakeoverBottomAdSlot:g}=(0,s.x)({variant:"home"}),b=(0,l.useCallback)(()=>{p===o.g.Homepage&&r.Hu.addCampaignPopUpScript()},[p]),{getActiveCampaignSettings:v}=(0,d.w)();return{registerRosettaCampaignPopupService:b,shouldShowRosettaCampaignPopup:(0,l.useMemo)(()=>{var e,i;let l=v();if(!l)return!1;let a=new r.Hu.CampaignPopupController(l),s=(null==n||null==(e=n.result)||null==(e=e.user)?void 0:e.isInternalStaff)===!0,c=(null==(i=a.shouldShowPopupByInterval)?void 0:i.call(a))??!1,u=o.g.Homepage===p;return!s&&c&&t&&u&&!g},[p,t,g,v,null==n||null==(e=n.result)||null==(e=e.user)?void 0:e.isInternalStaff])}}},57254:(e,t,n)=>{n.d(t,{B:()=>r});let r=(0,n(38353).eU)({description:"",destination:"",emailLoginTitle:"",isVisible:!1,title:"",variant:"dialog"})},61374:(e,t,n)=>{n.d(t,{J:()=>r});let r=(0,n(38353).eU)({isAccepted:!1})},70641:(e,t,n)=>{n.d(t,{Q8:()=>s,cd:()=>o,rn:()=>d,v3:()=>c,ym:()=>u}),n(45582),n(86348),n(61189);var r=n(40932),i=n(2798);n(19072);let l=["event_name"];function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}let o=e=>{window.MIRROR_EVENT&&window.MIRROR_EVENT.push({event:"si",payload:{ga:[e]}})},s=e=>{var t;window.MIRROR_EVENT&&(null==(t=window.MIRROR_EVENT)||t.push({event:"ce",name:"content_interest",payload:e},{event:"ta",payload:e,source:"content_interest"}))};function c(e,t){let{event_name:n}=e,o=(0,i.A)(e,l);void 0!==window.MIRROR_EVENT&&window.MIRROR_EVENT.push({event:"ce",name:n,payload:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){(0,r.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},o)})}let u=(e,t)=>{var n,r;null!=(n=window.MIRROR)&&n.video&&(null==(r=window.MIRROR)||null==(r=r.video)||r.add(e,t))},d=(e,t)=>{var n,r;null!=(n=window.MIRROR)&&n.video&&(null==(r=window.MIRROR)||null==(r=r.video)||r.load(e,t))}},72740:(e,t,n)=>{n.d(t,{EO:()=>c,Rf:()=>o,UL:()=>s}),n(45582),n(86348),n(61189);var r=n(40932);n(19072),n(92817);var i=n(6321);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){(0,r.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let o=()=>{var e;if("plus"===new URLSearchParams(window.location.search).get("display")||(null==(e=window.location.pathname.split("/"))?void 0:e[1])==="plus")return!0};function s(e,t){var n;let r=o();(0,i.gl)(a({_clear:!0,event:"GA4_tracking"},a(a({},e),{},{customized_parameters:a(a(a({},null==e?void 0:e.customized_parameters),r&&{product:"plus"}),!(null!=e&&null!=(n=e.customized_parameters)&&n.page_location)&&{page_location:window.location.href})})),t)}let c=e=>{var t;null==(t=window.dataLayer)||t.push({_clear:!1,userProperties:e})}},78950:(e,t,n)=>{n.d(t,{LW:()=>g,Sj:()=>p}),n(19072),n(45582),n(86348),n(61189);var r=n(40932);n(86401);var i=n(69330),l=n(70641),a=n(21022),o=n(69754),s=n(21162);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){(0,r.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let d=e=>Object.values(s.rJ).includes(e);function p(e){let{update:t,value:n}=(0,a.n)("scmp_edition",e=>e,u(u({},e),{},{expires:400})),r=null!==n,c=(0,i.useCallback)(()=>(0,o.Kg)(n)&&d(n)?n:s.rJ.International,[n]);return{get:c,getOptions:(0,i.useCallback)(()=>s.RO,[]),isInitialHasSelected:r,update:(0,i.useCallback)(e=>{d(e)&&((0,l.v3)({edition:e,event_name:"edition_preference"}),t(e))},[t])}}function g(e){let{get:t}=p(e);return(0,i.useMemo)(()=>t(),[t])}},95871:(e,t,n)=>{n.d(t,{R:()=>o,a:()=>a});let r={kind:"InlineDataFragment",name:"atomsCurrentArticleAtomBase"};r.hash="25a1b4646d950aa796b439421155ee85";var i=n(38353),l=n(82915);let a=(0,i.eU)(null),o=(0,i.eU)(e=>{let t=e(a);if(!t)return;let n=(0,l.readInlineData)(r,t);switch(n.__typename){case"%other":return;case"Article":return n}})}}]);
//# sourceMappingURL=330.ea8c37b83be08ed0.js.map