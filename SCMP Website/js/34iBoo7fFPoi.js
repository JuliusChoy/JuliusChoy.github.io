try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="9ca6a135-8db9-4060-93b9-3d8e9ca062eb",e._sentryDebugIdIdentifier="sentry-dbid-9ca6a135-8db9-4060-93b9-3d8e9ca062eb")}()}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7439,7786],{2096:(e,t,n)=>{"use strict";n.d(t,{R:()=>v,g:()=>m}),n(86348);var i=n(40932);n(19072),n(45582),n(61189),n(92817);var r=n(87057),a=n(61044),o=n(40485),l=n(69330),s=n(54389),c=n(21482),u=n(74301),d=n(3478),p=n(82673),y=n(99348),g=n(57254),b=n(72740);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach(function(t){(0,i.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let m=()=>{let[e,t]=(0,o.fp)(g.B),n=(0,l.useCallback)(e=>{let{ga4CustomParameter:t,isShow:n}=e;n&&(0,p.z2)(t)&&(async()=>{await (0,y.a)({priority:"background"}),(0,b.UL)({action:"imp",category:"login",customized_parameters:t,subcategory:"popup"})})()},[]);return{closeLoginDialog:(0,l.useCallback)(()=>{t(e=>f(f({},e),{},{description:"",destination:"",emailLoginTitle:"Sign In / Register",isVisible:!1,title:"Sign In / Register"})),n({ga4CustomParameter:void 0,isShow:!1})},[t,n]),loginDialogState:e,openLoginDialog:(0,l.useCallback)(e=>{t(f(f({},e),{},{description:e.description??"",emailLoginTitle:"Sign In / Register",isVisible:!0,title:e.title??"Sign In / Register",variant:"dialog"})),n({ga4CustomParameter:e.ga4CustomParameter,isShow:!0})},[t,n]),setLoginDialogState:t}},v=()=>{let{loginDialogState:e}=m(),{attachEventHandlers:t,detachEventHandlers:n}=(()=>{let{loginDialogState:e,setLoginDialogState:t}=m(),n=(0,o.Xr)(u.R),{0:i,1:a}=(0,l.useState)([]);return{attachEventHandlers:(0,l.useCallback)(()=>{e.wallType&&localStorage.removeItem(e.wallType);let i=[],o=r.on(r.EVENT.EMAIL_REGISTRATION_SUCCESS,e=>{n(e.email)});"function"==typeof o&&i.push(o);let l=r.on(r.EVENT.EMAIL_REGISTRATION_COMPLETED,t=>{let n,i;location.href=(n=new URL(window.location.href),(i=new URL(`${c.$.account.registerCallbackUrl}${(0,d.QS)(t.email)}`)).searchParams.set("source","pwa"),e.destination&&i.searchParams.set("destination",e.destination),n.searchParams.set("destination",encodeURIComponent(i.href)),e.registrationTerm&&n.searchParams.set(e.registrationTerm,"true"),n.toString())});"function"==typeof l&&i.push(l);let u=r.on(r.EVENT.OPEN_WITH_EXTERNAL_BROWSER,()=>{t(e=>f(f({},e),{},{variant:"dialog-with-primary-close-button-only"}))});"function"==typeof u&&i.push(u),[{event:r.EVENT.APPLE_LOGIN_BUTTON_CLICKED,loginMethod:"Apple"},{event:r.EVENT.GOOGLE_LOGIN_BUTTON_CLICKED,loginMethod:"Google"},{event:r.EVENT.FACEBOOK_LOGIN_BUTTON_CLICKED,loginMethod:"Facebook"}].forEach(t=>{let{event:n,loginMethod:a}=t,o=r.on(n,()=>{e.wallType&&(0,s.g$)(e.wallType,a)});"function"==typeof o&&i.push(o)}),a(i)},[t,e.destination,e.registrationTerm,e.wallType,n]),detachEventHandlers:(0,l.useCallback)(()=>{0!==i.length&&(i.forEach(e=>e()),a([]))},[i])}})(),i=(0,a.J)(n);return{reference:(0,l.useCallback)(n=>{if(!e.isVisible||!n)return void i.current();r.init({APPLICATION:e.application,DESTINATION:e.destination});let a=(0,s.fu)();r.initLoginWidget(n.id,{destination:e.destination,emailLoginTitle:e.emailLoginTitle,isInWebView:a,loginDescription:e.description,registerSource:"regi"===e.wallType?"loginwall":"",thirdPartySignInOptions:{withApple:!0,withFacebook:!0,withGoogle:!a},title:e.title}),t()},[t,i,e.application,e.description,e.destination,e.emailLoginTitle,e.isVisible,e.title,e.wallType])}}},6321:(e,t,n)=>{"use strict";n.d(t,{I4:()=>u,W5:()=>c,gl:()=>s,oe:()=>d}),n(45582),n(86348),n(61189);var i=n(40932);n(19072);var r=n(69754),a=n(72740);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){(0,i.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function s(e,t){var n;null==(n=window.dataLayer)||n.push(e)}function c(e){var t;null==(t=window.dataLayer)||t.push({subscribe:(0,r.fs)(e)})}function u(e,t){var n;null==(n=window.dataLayer)||n.push(e)}function d(e){u({_clear:!0,event:"VirtualPageview",page:l(l(l({},e),(0,a.Rf)()&&{product:"plus"}),!e.page_location&&{page_location:window.location.href}),subscribe:e.subscribe})}},7209:(e,t,n)=>{var i=n(27376),r=n(20592),a=n(14415),o=n(16159);e.exports=r(function(e){return a(i(e,1,o,!0))})},8285:(e,t,n)=>{"use strict";n.d(t,{T:()=>i});let i=(0,n(38353).eU)(null)},13103:e=>{e.exports=function(e){return e!=e}},14415:(e,t,n)=>{var i=n(36161),r=n(64897),a=n(92665),o=n(47757),l=n(73981),s=n(99657);e.exports=function(e,t,n){var c=-1,u=r,d=e.length,p=!0,y=[],g=y;if(n)p=!1,u=a;else if(d>=200){var b=t?null:l(e);if(b)return s(b);p=!1,u=o,g=new i}else g=t?[]:y;e:for(;++c<d;){var h=e[c],f=t?t(h):h;if(h=n||0!==h?h:0,p&&f==f){for(var m=g.length;m--;)if(g[m]===f)continue e;t&&g.push(f),y.push(h)}else u(g,f,n)||(g!==y&&g.push(f),y.push(h))}return y}},15198:(e,t,n)=>{"use strict";function i(){for(var e,t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];"undefined"!=typeof window&&null!=(e=window)&&null!=(e=e.dataLayer)&&e.push&&window.dataLayer.push(arguments)}n.d(t,{w:()=>i}),n(19072)},21022:(e,t,n)=>{"use strict";n.d(t,{n:()=>o});var i=n(61044),r=n(69330),a=n(28926);function o(e,t,n){let[o,l,s]=(0,a.$)(e,n),c=(0,i.J)(t);return{remove:s,update:l,value:(0,r.useMemo)(()=>o&&c.current(o),[c,o])}}},22004:(e,t,n)=>{"use strict";n.d(t,{Y:()=>o});var i=n(69330),r=n(78950),a=n(21162);let o=()=>{let e=(0,r.LW)({initializeWithValue:!1});return(0,i.useMemo)(()=>e===a.rJ.International?"/":`/${e}`,[e])}},22679:(e,t,n)=>{"use strict";var i,r,a,o,l,s;n.d(t,{WD:()=>c,ed:()=>d,fx:()=>y,n$:()=>p,qn:()=>u,y:()=>g});let c=((i={}).Follow="Follow",i.UnFollow="UnFollow",i),u=((r={}).BlueIcon="blue-icon",r.BluePlusIcon="blue-plus-icon",r.BlueSquareIcon="blue-square-icon",r.CircleGrayIcon="circle-gray-icon",r.MyNewsSetup="my-news-setup",r.Text="text",r),d=((a={}).Filled="filled",a.Outlined="outlined",a.Plain="plain",a),p=((o={}).Compact="compact",o.Full="full",o.Large="large",o.Normal="normal",o.Small="small",o.Thin="thin",o),y=((l={}).Dark="dark",l.Homepage="homepage",l.Light="light",l.NewsletterColumnist="newsletter-columnist",l.Style="magazines-style",l),g=((s={}).Author="Author",s.Section="Section",s.Topic="Topic",s)},24112:(e,t,n)=>{"use strict";n.d(t,{Wo:()=>I,_U:()=>v,_u:()=>w,fi:()=>g,fn:()=>O,mo:()=>h,ox:()=>m,qD:()=>f,qo:()=>b});var i=n(42081),r=n(72898),a=n(59797),o=n(78295),l=n(78888),s=n(31758),c=n(81922),u=n(38370),d=n(48919),p=n(21482),y=n(69754);function g(e,t){return(0,r.A)(v(e),t)}function b(e,t){return(0,d.toString)({minutes:e,seconds:t})}function h(e){let t=Date.now(),n=v(e),i=(0,o.A)(t,n,{roundingMethod:"round"}),r=(0,a.A)(t,n,{roundingMethod:"round"});switch(!0){case i<=1:return"1 minute ago";case i>1&&i<60:return`${i} minutes ago`;case 1===r:return"1 hour ago";case r>1&&r<=6:return`${r} hours ago`;default:return f(n)}}function f(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p.$.date.defaultFormat,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p.$.date.defaultTimeZone;return(0,i.qD)(v(e),n,t)}function m(e,t){let n=v(e),i=v(t);return(0,l.A)(n,i)||(0,s.A)(n,i)}function v(e){if((0,y.Kg)(e)){let t=(0,u.A)(e);return O(t)?t:new Date(e)}return(0,y.kf)(e)?new Date(e):e}function w(e){return v(e).toISOString()}let I=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" minute",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:" minutes";return e>1?`${e}${n}`:`1${t}`};function O(e){return(0,c.A)(e)}},28926:(e,t,n)=>{"use strict";n.d(t,{$:()=>s});var i=n(61044),r=n(91555),a=n(67571),o=n(99523),l=n(69330);let s=(e,t)=>{let n=(0,i.J)(t),s=(0,r.S)(),{0:c,1:u}=(0,l.useState)(()=>s&&null!=t&&t.initializeWithValue?o.A.get(e)??null:null),d=(0,l.useCallback)(t=>{o.A.set(e,t,n.current),u(t)},[e,n]),p=(0,l.useCallback)(()=>{o.A.remove(e),u(null)},[e]);return(0,a.u)(()=>{let t=o.A.get(e);!c&&t&&u(t)}),[c,d,p]}},33776:(e,t,n)=>{"use strict";var i,r;n.d(t,{M:()=>o,V:()=>a});let a=((i={})[i.HomeRecommendedForYou=0]="HomeRecommendedForYou",i[i.HomeYouMayHaveMissed=1]="HomeYouMayHaveMissed",i[i.MoreOnThisTopic=2]="MoreOnThisTopic",i[i.MyNewsFresh=3]="MyNewsFresh",i[i.OnBoard=4]="OnBoard",i[i.TopPicks=5]="TopPicks",i[i.Section=6]="Section",i[i.MyNewsHot=7]="MyNewsHot",i),o=((r={}).Conversations="a_c",r.EvergreenArticles="eg",r.FollowSubscription="t_aut",r.MyNews="t",r.RecommendedArticles="a",r)},40557:(e,t,n)=>{"use strict";n.d(t,{J1:()=>a,k$:()=>r,kH:()=>i});let i="MyDailyFiveLastUpdateTime",r="MyDailyFiveArticleIds",a="MyDailyFiveRecommendId"},46651:e=>{e.exports=function(e,t,n,i){for(var r=e.length,a=n+(i?1:-1);i?a--:++a<r;)if(t(e[a],a,e))return a;return -1}},49331:(e,t,n)=>{"use strict";n.d(t,{H:()=>I});var i=n(40932);n(45582),n(19072),n(86348),n(61189),n(32496),n(49800);var r=n(40485),a=n(69330),o=n(22679),l=n(98970),s=n(74301),c=n(92891),u=n(67571),d=n(77824),p=n(24112),y=n(40557),g=n(57053),b=n(33776);let h=!1,f=!1;var m=n(70702);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach(function(t){(0,i.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let I=()=>{let{follows:e}=(0,r.md)(m.S),{isLoggedIn:t}=(0,r.md)(s.b),{value:n}=(0,l.Q)("isVisitedMyNewsPage",{initializeWithValue:!0,parse:e=>e}),[i]=(e=>{let{0:t,1:n}=(0,a.useState)(e);return(0,a.useEffect)(()=>{t||null==e||n(e)},[t,e]),[t,n]})(e),v=(0,a.useMemo)(()=>Object.values(i??{}).flat().length>=3,[i]),I=void 0!==e||!t,O=(0,a.useMemo)(()=>I&&void 0!==e&&e.length>=3,[e,I]),k=(0,a.useMemo)(()=>{let t=null==e?void 0:e.map(e=>e.split(":")).reduce((e,t)=>{let[n,i]=t;return w(w({},e),{},{[n]:[...e[n],i]})},{[o.y.Author]:[],[o.y.Section]:[],[o.y.Topic]:[]});return{authorIds:(null==t?void 0:t[o.y.Author])??[],sectionIds:(null==t?void 0:t[o.y.Section])??[],topicIds:(null==t?void 0:t[o.y.Topic])??[]}},[e]),A=(e=>{let{authorIds:t,sectionIds:n,topicIds:i}=e,{set:o,value:m}=(0,l.Q)(y.kH,{defaultValue:"0"}),{set:v,value:w}=(0,l.Q)(y.k$,{defaultValue:[]}),{set:I,value:O}=(0,l.Q)(y.J1,{defaultValue:""}),{user:k}=(0,r.md)(s.b),[{result:A},{execute:E}]=(0,c.Y)(()=>(0,g.x)({authorIds:t,sectionEntityIds:n,topicIds:i,type:b.V.MyNewsFresh,userUuid:null==k?void 0:k.uuid})),P=!m||(0,p.ox)(new Date,m);return(0,u.u)(()=>{let e=((null==t?void 0:t.length)??0)+((null==n?void 0:n.length)??0)+((null==i?void 0:i.length)??0);!P||e<3||h||f||(h=!0,f=!0,E())}),(0,a.useEffect)(()=>{let e=null==A?void 0:A.data;if(!e){h=!1;return}I(e.rec_id??""),v(e.results.map(e=>e.id)??[]),o((0,p.fi)((0,d.A)(new Date,{hours:4,minutes:59}),1).toISOString()),h=!1},[null==A?void 0:A.data,o,v,I]),{recommendedArticleIds:w,recommendedId:O}})(k);return{followedIds:k,getMyNewDailyFiveArticleIds:A,hasEnoughFollowedItems:O,initialHasEnoughFollowedItems:v,isDataLoaded:I,isVisitedMyNewsPage:n}}},53127:(e,t,n)=>{"use strict";let i;n.d(t,{s:()=>r});let r=async()=>"undefined"!=typeof globalThis&&(i??=new Promise(e=>{let t="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js",n=new XMLHttpRequest;n.timeout=1e3,n.addEventListener("readystatechange",function(){n.readyState===XMLHttpRequest.DONE&&e(0===n.status||n.responseURL!==t)}),n.open("HEAD",t,!0),n.send(null)}))},57053:(e,t,n)=>{"use strict";n.d(t,{x:()=>k,X:()=>A});var i=n(40932),r=n(2798);n(45582),n(19072),n(86348),n(74397),n(61189),n(32496),n(92817);var a=n(32977),o=n(15593),l=n.n(o),s=n(58026),c=n.n(s),u=n(63250),d=n(75018),p=n(21482),y=n(82673),g=n(33776);let b={[g.V.HomeRecommendedForYou]:"/recommend/home",[g.V.HomeYouMayHaveMissed]:"/recommend/may-have-missed",[g.V.MoreOnThisTopic]:"/recommend/next",[g.V.MyNewsFresh]:"/recommend/my-news/fresh",[g.V.MyNewsHot]:"/recommend/my-news/hot",[g.V.OnBoard]:"/recommend/on-board",[g.V.Section]:"/recommend/section",[g.V.TopPicks]:"/recommend/top-picks"},h={[g.V.HomeRecommendedForYou]:"/rec-backup/home.json",[g.V.HomeYouMayHaveMissed]:"/rec-backup/may-have-missed.json",[g.V.MoreOnThisTopic]:"/rec-backup/next.json",[g.V.MyNewsFresh]:"/rec-backup/my-news/fresh.json",[g.V.MyNewsHot]:"/recommend/my-news/hot.json",[g.V.OnBoard]:"/rec-backup/on-board",[g.V.Section]:"/rec-backup/section.json",[g.V.TopPicks]:"/rec-backup/top-picks.json"},f=["type"],m=["type"];function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach(function(t){(0,i.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let I=a.A.create({httpAgent:new(l()).Agent({keepAlive:!0}),httpsAgent:new(c()).Agent({keepAlive:!0})}),O=e=>{var t,n,i,r,a,o,l,s;return{a:e.entityId,aut:null==(t=e.authorIds)?void 0:t.join(","),dpuuid:e.userUuid,ex:null==(n=e.excludeIds)?void 0:n.join(","),ex_sections_prefix:null==(i=e.excludedSections)?void 0:i.join(","),ex_type_prefix:null==(r=e.excludedArticleTypes)?void 0:r.join(","),gcid:e.gaClientId,in_sections_prefix:null==(a=e.includedSections)?void 0:a.join(","),limit:null==(o=e.limit)?void 0:o.toString(),ranking:e.ranking,sc:e.sc,sec:null==(l=e.sectionEntityIds)||null==(l=l.map(e=>{var t;return null==(t=Object.values(d.u).find(t=>t.entityId===e))?void 0:t.aiEngineName}))||null==(l=l.filter(e=>(0,y.z2)(e)))?void 0:l.join(","),topic:null==(s=e.topicIds)?void 0:s.join(",")}},k=async e=>{let{type:t}=e,n=(0,r.A)(e,f),i=new URL(b[t],p.$.general.aiEngineHost),a=await (0,u.EK)(),o=O(w(w({},n),{},{gaClientId:a}));Object.entries(o).forEach(e=>{let[t,n]=e;(0,y.z2)(n)&&i.searchParams.set(t,`${n}`)});try{return I.get(i.toString(),{timeout:1e4})}catch{let e=new URL(t===g.V.OnBoard?`${h[t]}/${o.sc??""}.json`:h[t],p.$.general.aiEngineFallbackHost);return I.get(e.toString(),{timeout:1e4})}},A=async e=>{let{type:t}=e,n=(0,r.A)(e,m),i=new URL(b[t],"https://data-recommendation-api.scmp.com"),a=await (0,u.EK)(),o=O(w(w({},n),{},{gaClientId:a}));try{return I.post(i.toString(),o,{timeout:1e4})}catch{let e=new URL(t===g.V.OnBoard?`${h[t]}/${o.sc??""}.json`:h[t],p.$.general.aiEngineFallbackHost);return I.get(e.toString(),{timeout:1e4})}}},57254:(e,t,n)=>{"use strict";n.d(t,{B:()=>i});let i=(0,n(38353).eU)({description:"",destination:"",emailLoginTitle:"",isVisible:!1,title:"",variant:"dialog"})},60394:(e,t,n)=>{"use strict";n.d(t,{IA:()=>r,Rb:()=>o,ct:()=>l,m3:()=>a,o0:()=>i});let i={analysisAndOpinion:{entityId:"520771"},bizTechAndEconomy:{entityId:"500007"},chinaAndAsiaUnpacked:{entityId:"500004"},educationAndParents:{entityId:"520773"},essential:{entityId:"500003"},everythingHongKong:{entityId:"520772"},lifestyleAndWeekend:{entityId:"500006"},picturesFilmsAndVideo:{entityId:"500005"},sport:{entityId:"500008"},subscriberOnly:{entityId:"521523"}},r={abacus:{entityId:"327098",entityLabel:"ABACUS"},asia:{entityId:"323063",entityLabel:"THIS WEEK IN ASIA"},behindTheHeadlines:{entityId:"521375",entityLabel:"Behind the Headlines"},betterLife:{entityId:"502407",entityLabel:void 0},breakingNews:{entityId:"323473",entityLabel:"BREAKING NEWS ALERTS"},chinaAtAGlance:{entityId:"322279",entityLabel:"China at a Glance"},chinaBusinessBriefing:{entityId:"324680",entityLabel:void 0},coronavirus:{entityId:"505280",entityLabel:"CONFIRMED CORONAVIRUS CASES"},dailyPulse:{entityId:"517578",entityLabel:"Daily Pulse"},darkMatters:{entityId:"520815",entityLabel:"Dark Matters"},exclusive:{entityId:"324915",entityLabel:void 0},globalImpact:{entityId:"506194",entityLabel:"SCMP Global Impact Newsletter"},hkBusinessBriefing:{entityId:"324679",entityLabel:void 0},hongKongUpdate:{entityId:"510083",entityLabel:"Hong Kong Update"},hundredTopTable:{entityId:"519979",entityLabel:void 0},inPictures:{entityId:"324669",entityLabel:void 0},insideChinaTech:{entityId:"329707",entityLabel:"INSIDECHINATECH"},kPop:{entityId:"507747",entityLabel:void 0},lifeAndCulture:{entityId:"322280",entityLabel:void 0},listeningPost:{entityId:"511120",entityLabel:void 0},longReads:{entityId:"324615",entityLabel:void 0},lunar:{entityId:"501957",entityLabel:void 0},marketsToday:{entityId:"500264",entityLabel:void 0},martialArts:{entityId:"502648",entityLabel:void 0},myNews:{entityId:"521524"},opinion:{entityId:"323850",entityLabel:void 0},postMag:{entityId:"322743",entityLabel:"POST MAGAZINE"},racing:{entityId:"323665",entityLabel:"HK RACING"},scmpProperty:{entityId:"322281",entityLabel:void 0},scmpTodayHk:{entityId:"20916",entityLabel:"SCMP TODAY: HK EDITION"},scmpTodayInt:{entityId:"322277",entityLabel:"SCMP TODAY: INTL EDITION"},sportingWeekend:{entityId:"519808",entityLabel:void 0},style:{entityId:"322992",entityLabel:void 0},supportScmp1:{entityId:"506605",entityLabel:void 0},supportScmp2:{entityId:"506677",entityLabel:void 0},supportScmp3:{entityId:"506597",entityLabel:void 0},supportScmp4:{entityId:"506696",entityLabel:void 0},thisWeekInAsia:{entityId:"323063",entityLabel:void 0},usChinaTradeWar:{entityId:"330177",entityLabel:void 0},video:{entityId:"323511",entityLabel:void 0}},a={"Analysis & Opinion":{childNewsletterIds:[r.globalImpact.entityId,r.darkMatters.entityId,r.opinion.entityId,r.breakingNews.entityId],packageDisplayName:"Commentary Bundle",packageId:"analysis_opinion_pkg"},"BizTech & Economy":{childNewsletterIds:[r.chinaBusinessBriefing.entityId,r.insideChinaTech.entityId,r.marketsToday.entityId,r.breakingNews.entityId],packageDisplayName:"BizTech & Economy Bundle",packageId:"biz_tech_econ_pkg"},"China & Asia unpacked":{childNewsletterIds:[r.chinaAtAGlance.entityId,r.thisWeekInAsia.entityId,r.globalImpact.entityId,r.breakingNews.entityId],packageDisplayName:"Asia & China Bundle",packageId:"china_asia_unpacked_pkg"},Essential:{childNewsletterIds:[r.scmpTodayInt.entityId,r.chinaAtAGlance.entityId,r.breakingNews.entityId,r.exclusive.entityId],packageDisplayName:"Essential Bundle",packageId:"essential_pkg"},"Everything Hong Kong":{childNewsletterIds:[r.scmpTodayHk.entityId,r.hongKongUpdate.entityId,r.lifeAndCulture.entityId,r.postMag.entityId],packageDisplayName:"City Bundle",packageId:"everything_hk_pkg"},Lifestyle:{childNewsletterIds:[r.lifeAndCulture.entityId,r.postMag.entityId,r.hundredTopTable.entityId,r.style.entityId],packageDisplayName:"Lifestyle Bundle",packageId:"lifestyle_pkg"},"Pictures, Films & Video":{childNewsletterIds:[r.inPictures.entityId],packageDisplayName:"Best of Video & Pictures",packageId:"pictures_films_video_pkg"},Sport:{childNewsletterIds:[r.sportingWeekend.entityId],packageDisplayName:"Sport",packageId:"sport_pkg"}},o={Business:["BizTech & Economy","China & Asia unpacked","Analysis & Opinion","Essential"],China:["China & Asia unpacked","BizTech & Economy","Analysis & Opinion","Essential"],Comment:["Analysis & Opinion","China & Asia unpacked","BizTech & Economy"],Economy:["BizTech & Economy","China & Asia unpacked","Analysis & Opinion","Essential"],"Hong Kong":["Everything Hong Kong","Lifestyle","BizTech & Economy","China & Asia unpacked"],"HP/ASIA":["China & Asia unpacked","Lifestyle","Pictures, Films & Video"],"HP/HK":["Everything Hong Kong","Lifestyle","BizTech & Economy","China & Asia unpacked"],"HP/INT":["Essential","China & Asia unpacked","BizTech & Economy","Analysis & Opinion"],Lifestyle:["Lifestyle","Everything Hong Kong","Pictures, Films & Video"],Live:["Essential","China & Asia unpacked","BizTech & Economy","Analysis & Opinion"],"People & Culture":["Lifestyle","Everything Hong Kong","Pictures, Films & Video"],Tech:["BizTech & Economy","China & Asia unpacked","Analysis & Opinion","Essential"],"This Week in Asia":["China & Asia unpacked","Lifestyle","Pictures, Films & Video"],World:["Essential","China & Asia unpacked","Analysis & Opinion","BizTech & Economy"]},l=[{displayName:a.Essential.packageDisplayName,newsletters:[r.scmpTodayInt.entityId,r.chinaAtAGlance.entityId,r.breakingNews.entityId,r.exclusive.entityId]},{displayName:a["Everything Hong Kong"].packageDisplayName,newsletters:[r.scmpTodayHk.entityId,r.hongKongUpdate.entityId,r.lifeAndCulture.entityId,r.postMag.entityId]},{displayName:a["BizTech & Economy"].packageDisplayName,newsletters:[r.chinaBusinessBriefing.entityId,r.insideChinaTech.entityId,r.marketsToday.entityId,r.breakingNews.entityId]},{displayName:a["China & Asia unpacked"].packageDisplayName,newsletters:[r.chinaAtAGlance.entityId,r.thisWeekInAsia.entityId,r.globalImpact.entityId,r.breakingNews.entityId]},{displayName:a.Lifestyle.packageDisplayName,newsletters:[r.lifeAndCulture.entityId,r.postMag.entityId,r.hundredTopTable.entityId,r.style.entityId]},{displayName:a["Analysis & Opinion"].packageDisplayName,newsletters:[r.globalImpact.entityId,r.darkMatters.entityId,r.opinion.entityId,r.breakingNews.entityId]}]},61374:(e,t,n)=>{"use strict";n.d(t,{J:()=>i});let i=(0,n(38353).eU)({isAccepted:!1})},63250:(e,t,n)=>{"use strict";let i;n.d(t,{EK:()=>s}),n(90797),n(53049),n(38263),n(34799),n(89255),n(98458),n(32027),n(72381),n(67845),n(24128),n(89318),n(91933),n(30533),n(36058),n(98248),n(70276),n(70890),n(52358),n(24752),n(27609),n(27433),n(16815),n(23271);var r=n(99523),a=n(21482),o=n(53127),l=n(15198);let s=async()=>await c(a.$.googleAnalytics.measurementId)??(()=>{let e=r.A.get("_ga");if(!e)return null;let t=e.split(".");return t.length>=2?t.slice(-2).join("."):null})()??"";async function c(e){return void 0!==i?i:i=await (0,o.s)()?Promise.resolve(void 0):new Promise(t=>{setTimeout(()=>{t(void 0)},5e3),(0,l.w)("get",e,"client_id",e=>t(e))})}},64897:(e,t,n)=>{var i=n(73519);e.exports=function(e,t){return!!(null==e?0:e.length)&&i(e,t,0)>-1}},66251:(e,t,n)=>{"use strict";n.d(t,{v:()=>u,z:()=>c});let i={kind:"InlineDataFragment",name:"hooksUseCurrentArticleIdsArticle"};i.hash="3635a2a8a82bcbe711069f8c19ac4cda";let r={kind:"InlineDataFragment",name:"hooksTrackCurrentItemBase"};r.hash="a838df1567ccc1cc3ee365a3473bdfe3";var a=n(40485),o=n(69330),l=n(82915),s=n(95871);let c=()=>{let e=(0,a.Xr)(s.a);return{trackCurrentItem:(0,o.useCallback)(t=>{t?e((0,l.readInlineData)(r,t)):e(null)},[e])}},u=()=>{let e=(0,a.md)(s.R);if(!e)return{currentArticleId:void 0,currentArticleUuid:void 0};let{entityId:t,entityUuid:n}=(0,l.readInlineData)(i,e);return{currentArticleId:t,currentArticleUuid:n}}},66620:(e,t,n)=>{"use strict";n.d(t,{Jh:()=>h,ud:()=>g,vk:()=>f});var i=n(2798),r=n(40932);n(86401),n(19072),n(45582),n(86348),n(61189),n(92817);var a=n(69330),o=n(72348),l=n(10650),s=n(99139),c=n(82673),u=n(34266);let d=["config","environment"];function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){(0,r.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let g={article:{paywallTypeId:"716f570e-3083-4138-a080-47d3830fafe3"},topicType:{newsAgenda:"news_agenda"}},b=(0,a.createContext)((0,s.j)("SdkContext")),h=e=>{let{children:t,value:n}=e,{0:i,1:r}=(0,a.useState)({acquisitions:{},campaigns:{},myNews:{},topicPackageFollows:{},whyRegister:{}}),l=(0,a.useMemo)(()=>({popupState:i,setPopupState:r}),[i]),s=(0,a.useMemo)(()=>{try{var e;return new URL(n.currentRoute,null==(e=(0,c.zk)())?void 0:e.location.origin).pathname}catch{return""}},[n.currentRoute]);return(0,u.jsx)(b.Provider,{value:y(y({},n),{},{acquisition:l,currentRouteWithoutQuerystring:s}),children:(0,u.jsx)(o.G3,{reCaptchaKey:n.config.recaptcha.siteKey,"data-qa":"SdkContextProvider-GoogleReCaptchaProvider",children:t})})};h.displayName="SdkContextProvider";let f=()=>{let e=(0,a.useContext)(b),{config:t,environment:n}=e,r=(0,i.A)(e,d);return m("facebookLikeUrl",null==t?void 0:t.facebook.likeUrl),m("accountsHost",null==t?void 0:t.accounts.host),m("graphqlHost",null==t?void 0:t.graphql.host),m("subscribeHost",null==t?void 0:t.subscribe.host),y(y({},r),{},{config:t,environment:n??(0,l.M)({authOptions:{allowEmptyToken:!0},urlOptions:{headers:{apikey:t.graphql.apiKey},method:"POST",url:t.graphql.host}})})},m=(e,t)=>{if(t)try{new URL(t)}catch{}}},70641:(e,t,n)=>{"use strict";n.d(t,{Q8:()=>s,cd:()=>l,rn:()=>d,v3:()=>c,ym:()=>u}),n(45582),n(86348),n(61189);var i=n(40932),r=n(2798);n(19072);let a=["event_name"];function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}let l=e=>{window.MIRROR_EVENT&&window.MIRROR_EVENT.push({event:"si",payload:{ga:[e]}})},s=e=>{var t;window.MIRROR_EVENT&&(null==(t=window.MIRROR_EVENT)||t.push({event:"ce",name:"content_interest",payload:e},{event:"ta",payload:e,source:"content_interest"}))};function c(e,t){let{event_name:n}=e,l=(0,r.A)(e,a);void 0!==window.MIRROR_EVENT&&window.MIRROR_EVENT.push({event:"ce",name:n,payload:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){(0,i.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},l)})}let u=(e,t)=>{var n,i;null!=(n=window.MIRROR)&&n.video&&(null==(i=window.MIRROR)||null==(i=i.video)||i.add(e,t))},d=(e,t)=>{var n,i;null!=(n=window.MIRROR)&&n.video&&(null==(i=window.MIRROR)||null==(i=i.video)||i.load(e,t))}},71187:(e,t,n)=>{"use strict";n.d(t,{S:()=>u,z:()=>d}),n(19072),n(45582),n(86348),n(61189);var i=n(40932);n(86401),n(92817);var r=n(93933),a=n(5856),o=n.n(a),l=n(69330);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){(0,i.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let u=()=>{let{replace:e}=(0,r.useRouter)();return(0,l.useCallback)(function(t,n,i){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{restOfTheQueryString:a}=d(t,window.location.search),l=new URL(location.href);return l.search=o().stringify(c(c({},a),r)),e(n,l.toString(),i)},[e])},d=(e,t)=>{let n=o().parse(t,{ignoreQueryPrefix:!0}),i={},r={};for(let t of Object.keys(n))e.includes(t)?i[t]=n[t]:r[t]=n[t];return{restOfTheQueryString:r,sanitizedQueryString:i}}},72740:(e,t,n)=>{"use strict";n.d(t,{EO:()=>c,Rf:()=>l,UL:()=>s}),n(45582),n(86348),n(61189);var i=n(40932);n(19072),n(92817);var r=n(6321);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){(0,i.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let l=()=>{var e;if("plus"===new URLSearchParams(window.location.search).get("display")||(null==(e=window.location.pathname.split("/"))?void 0:e[1])==="plus")return!0};function s(e,t){var n;let i=l();(0,r.gl)(o({_clear:!0,event:"GA4_tracking"},o(o({},e),{},{customized_parameters:o(o(o({},null==e?void 0:e.customized_parameters),i&&{product:"plus"}),!(null!=e&&null!=(n=e.customized_parameters)&&n.page_location)&&{page_location:window.location.href})})),t)}let c=e=>{var t;null==(t=window.dataLayer)||t.push({_clear:!1,userProperties:e})}},73519:(e,t,n)=>{var i=n(46651),r=n(13103),a=n(79232);e.exports=function(e,t,n){return t==t?a(e,t,n):i(e,r,n)}},73981:(e,t,n)=>{var i=n(20269),r=n(93466),a=n(99657);e.exports=i&&1/a(new i([,-0]))[1]==1/0?function(e){return new i(e)}:r},77824:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(16347),r=n(56731);let a=function(e,t,n){var a,o;let l,s,c,u,d,p,y,g,b,h=(0,r.a)(e,n?.in);return isNaN(+h)?(0,i.w)(n?.in||e,NaN):(null!=t.year&&h.setFullYear(t.year),null!=t.month&&(a=h,o=t.month,s=(l=(0,r.a)(a,void 0)).getFullYear(),c=l.getDate(),(u=(0,i.w)(a,0)).setFullYear(s,o,15),u.setHours(0,0,0,0),p=(d=(0,r.a)(u,void 0)).getFullYear(),y=d.getMonth(),(g=(0,i.w)(d,0)).setFullYear(p,y+1,0),g.setHours(0,0,0,0),b=g.getDate(),l.setMonth(o,Math.min(c,b)),h=l),null!=t.date&&h.setDate(t.date),null!=t.hours&&h.setHours(t.hours),null!=t.minutes&&h.setMinutes(t.minutes),null!=t.seconds&&h.setSeconds(t.seconds),null!=t.milliseconds&&h.setMilliseconds(t.milliseconds),h)}},78950:(e,t,n)=>{"use strict";n.d(t,{LW:()=>y,Sj:()=>p}),n(19072),n(45582),n(86348),n(61189);var i=n(40932);n(86401);var r=n(69330),a=n(70641),o=n(21022),l=n(69754),s=n(21162);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){(0,i.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let d=e=>Object.values(s.rJ).includes(e);function p(e){let{update:t,value:n}=(0,o.n)("scmp_edition",e=>e,u(u({},e),{},{expires:400})),i=null!==n,c=(0,r.useCallback)(()=>(0,l.Kg)(n)&&d(n)?n:s.rJ.International,[n]);return{get:c,getOptions:(0,r.useCallback)(()=>s.RO,[]),isInitialHasSelected:i,update:(0,r.useCallback)(e=>{d(e)&&((0,a.v3)({edition:e,event_name:"edition_preference"}),t(e))},[t])}}function y(e){let{get:t}=p(e);return(0,r.useMemo)(()=>t(),[t])}},79232:e=>{e.exports=function(e,t,n){for(var i=n-1,r=e.length;++i<r;)if(e[i]===t)return i;return -1}},79345:(e,t,n)=>{"use strict";n.d(t,{wm:()=>o,zW:()=>a}),n(86401),n(82915);var i=n(75018),r=n(93509);let a=(e,t)=>(null==t||!t.appBarVariant)&&e===r.z,o=e=>{let{entityId:t,parentSection:n}=e,r=[i.u.announcements.entityId,i.u.recap.entityId],a=[i.u.magazine.entityUuid,i.u.news.entityUuid];return![i.u.martialArts.entityId,i.u.olympic.entityId,i.u.us.usElections.entityId].includes(t)&&(r.includes(t)||n&&!a.includes(n))}},80853:(e,t,n)=>{var i=n(84909),r=n(27376),a=n(20592),o=n(16159);e.exports=a(function(e,t){return o(e)?i(e,r(t,1,o,!0)):[]})},82016:(e,t,n)=>{"use strict";n.d(t,{B:()=>o});var i=n(69330);let r=[0],a=new Map;function o(e,{threshold:t=r,root:n,rootMargin:l="0px"}={}){let[s,c]=(0,i.useState)();return(0,i.useEffect)(()=>{let i=e&&"current"in e?e.current:e;if(!i)return;let r=!0,o=(e=>{let t=e.root??document,n=a.get(t);n||(n=new Map,a.set(t,n));let i=JSON.stringify([e.rootMargin,e.threshold]),r=n.get(i);if(!r){let o=new Map,l=new IntersectionObserver(e=>{for(let t of e){let e=o.get(t.target);if(void 0!==e&&0!==e.size)for(let n of e)setTimeout(()=>{n(t)},0)}},e);r={observer:l,observe(e,t){let n=o.get(e);n||(n=new Set,o.set(e,n),l.observe(e)),n.add(t)},unobserve(e,r){let s=o.get(e);s&&(s.delete(r),0===s.size&&(o.delete(e),l.unobserve(e),0===o.size&&(l.disconnect(),n.delete(i),0===n.size&&a.delete(t))))}},n.set(i,r)}return r})({root:n&&"current"in n?n.current:n,rootMargin:l,threshold:t}),s=e=>{r&&c(e)};return o.observe(i,s),()=>{r=!1,o.unobserve(i,s)}},[e,n,l,...t]),s}},84104:(e,t,n)=>{"use strict";n.r(t),n.d(t,{SdkContextProvider:()=>C});var i=n(66620),r=n(21472);n(45582),n(32496);var a=n(40485),o=n(93933),l=n(69330),s=n(70641),c=n(21482),u=n(60394),d=n(92698),p=n(74301),y=n(78950),g=n(71187),b=n(22004),h=n(61374),f=n(2096),m=n(72740),v=n(6321),w=n(84852),I=n(66251),O=n(49331),k=n(90872),A=n(75633),E=n(17911),P=n(45474),T=n(82016),j=n(8285),S=n(34266);let C=e=>{let{children:t}=e,n=(e=>{var t,n,i,r;let{asPath:S,pathname:C,query:N}=(0,o.useRouter)(),L=(0,o.useRouter)(),D=(0,g.S)(),R=(0,E.R)(),{currentArticleId:M,currentArticleUuid:_}=(0,I.v)(),H=(0,y.Sj)(),U=(0,d.O)(),{bookmarkAction:V,checkIsBookmarked:B,checkIsFollowed:x,followAction:$}=(0,P.v)(),{hasEnoughFollowedItems:F,initialHasEnoughFollowedItems:z}=(0,O.H)(),{openLoginDialog:K}=(0,f.g)(),{fetchUserTypes:W,userTypes:G}=(0,k.m)(),q=G.map(e=>e.id);(0,l.useEffect)(()=>{W()},[W]);let{navigatorInfo:Y}=(0,a.md)(w.X),{user:J}=(0,a.md)(p.b),Q=(0,a.md)(A.E),{isAccepted:X}=(0,a.md)(h.J),Z=(null==Q||null==(t=Q.result)?void 0:t.hasIpAccess)??!1,ee=(null==Q||null==(n=Q.result)||null==(n=n.user)?void 0:n.isSCMPSubscriber)??!1,et=(null==Q||null==(i=Q.result)||null==(i=i.contentServiceUserInfo)?void 0:i.isSubscriptionEnabled)??!1,en=!Z&&!ee&&et,ei=(0,l.useCallback)(e=>B(e.entityId),[B]),er=(0,l.useCallback)(e=>V(e.action,e.entityId,{ga4Events:e.trackings.ga4Events}),[V]),ea=(0,l.useCallback)(e=>x(e.followType,e.entityId),[x]),eo=(0,l.useCallback)(async e=>$(e.action,e.followType,e.entityIds,null==e?void 0:e.callback),[$]),el=(0,l.useCallback)(e=>{let{description:t,destination:n,ga4CustomParameter:i,title:r}=e;K({description:t,destination:n,ga4CustomParameter:i,title:r})},[K]),es=(0,l.useCallback)(async e=>{await D(e,{pathname:C,query:N},{shallow:!0})},[C,N,D]),ec=(0,l.useCallback)(async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};await R(e,t)},[R]),eu=(0,l.useCallback)(e=>{e&&(0,m.UL)(e,{untyped:!0})},[]),ed=(0,l.useCallback)(e=>{e&&(0,v.I4)(e,{untyped:!0})},[]),ep=(0,l.useCallback)(e=>{e&&(0,s.v3)(e,{untyped:!0})},[]),ey=(0,b.Y)(),eg=(()=>{let{0:e,1:t}=(0,l.useState)(!1),n=(0,a.md)(j.T),i=(0,T.B)(n);return(0,l.useEffect)(()=>{null!=i&&i.isIntersecting&&!e&&t(!0)},[e,null==i?void 0:i.isIntersecting]),e})();return(0,l.useMemo)(()=>{var t;return{bookmark:{check:ei,update:er},config:{accounts:{authCallbackUrl:c.$.account.authCallbackUrl,host:c.$.account.scmpAccountHost,registerCallbackUrl:c.$.account.registerCallbackUrl},corporateSubscriber:{host:c.$.corporateSubscriber.host},environment:"dev",facebook:{appId:c.$.social.facebook.appId,likeUrl:c.$.social.facebook.likeUrl},graphql:{apiKey:c.$.graphql.contentService.apiKey,host:c.$.graphql.contentService.host},newsletter:{globalImpact:u.IA.globalImpact.entityId,lunar:u.IA.lunar.entityId,postMag:u.IA.postMag.entityId,thisWeekInAsia:u.IA.thisWeekInAsia.entityId},notification:{host:""},recaptcha:{siteKey:c.$.account.recaptchaSiteKey},siteUrl:c.$.general.siteUrl,subscribe:{host:c.$.rosetta.subscribeHost},twitter:{accountName:c.$.social.twitter.scmp.accountName}},currentArticleId:M,currentArticleUuid:_,currentPageType:U,currentRoute:S,edition:H,environment:e,handleCheckIsFollowed:ea,handleFollow:eo,handleOpenLoginDialog:el,handleRemoveRouteQuery:es,handleRoutePush:ec,handleTrackGA4:eu,handleTrackGTM:ed,handleTrackMirror:ep,hasAcceptedGDPR:X,hasEnoughFollowedItems:F,hasWhyRegisterPPTOHomepagePositionIntersected:eg,homeAsPath:ey,initialHasEnoughFollowedItems:z,isShowSubscription:en,rosettaInstance:null==Q||null==(t=Q.result)?void 0:t.instance,router:L,user:J??void 0,userCountry:null==Y?void 0:Y.country,userTypeIds:q}},[S,null==Q||null==(r=Q.result)?void 0:r.instance,ei,er,M,_,U,H,e,ea,eo,el,es,ec,eu,ed,ep,X,F,eg,ey,z,en,null==Y?void 0:Y.country,L,J,q])})((0,r.Nb)());return(0,S.jsx)(i.Jh,{value:n,"data-qa":"SdkContextProvider-ContextProvider",children:t})};C.displayName="SdkContextProvider"},84909:(e,t,n)=>{var i=n(36161),r=n(64897),a=n(92665),o=n(37122),l=n(45369),s=n(47757);e.exports=function(e,t,n,c){var u=-1,d=r,p=!0,y=e.length,g=[],b=t.length;if(!y)return g;n&&(t=o(t,l(n))),c?(d=a,p=!1):t.length>=200&&(d=s,p=!1,t=new i(t));e:for(;++u<y;){var h=e[u],f=null==n?h:n(h);if(h=c||0!==h?h:0,p&&f==f){for(var m=b;m--;)if(t[m]===f)continue e;g.push(h)}else d(t,f,c)||g.push(h)}return g}},90872:(e,t,n)=>{"use strict";n.d(t,{m:()=>g,r:()=>b}),n(86401),n(45582),n(32496),n(92817);var i=n(92891),r=n(32977),a=n(40485),o=n(5856),l=n.n(o),s=n(63250),c=n(21482),u=n(98970),d=n(21022),p=n(74301),y=n(75633);let g=()=>{let{value:e}=(0,u.Q)("qaTestOverwriteGAClientId"),[t,n]=(0,i.Y)(async()=>{try{var t;let n="production"!==c.$.general.env&&e?e:await (0,s.EK)();if(!n)return[];let i=new URL(`${c.$.general.userTypeHost}/client-id/${n}`),a=await r.A.get(i.toString(),{withCredentials:!0});return(null==a||null==(t=a.data.data)?void 0:t.user_types)??[]}catch{return[]}});return{fetchUserTypes:n.execute,userTypes:t.result??[]}},b=()=>{var e,t;let{value:n}=(0,d.n)("qa_user_type",e=>e,{initializeWithValue:!0}),i=l().parse(window.location.search,{ignoreQueryPrefix:!0}),r="true"===i.finishedMyNews,{user:o}=(0,a.md)(p.b),s=null==o||null==(e=o.source)?void 0:e.includes("amp"),u=(0,a.md)(y.E),g=(null==u||null==(t=u.result)?void 0:t.isScmpSubscriber)??!1;return{getUserType:e=>{if("production"!==c.$.general.env&&n)return n;if(g)return"subscribers";if(r)return"myNews";if(s)return"amp";if("true"===i.firstTimeRegister&&"true"===i.signUpComplete)return"newsletter";let t=e.map(e=>e.id);return 0===t.length?"default":h(t)}}},h=e=>e.includes("018")?"018":e.includes("028")?"028":e.includes("029")?"029":e.includes("038")?"038":e.includes("083")?"083":e.includes("084")?"084":e.includes("058")?"058":e.includes("008")?"008":e.includes("057")?"057":e.includes("016")?"016":e.includes("017")?"017":e.includes("030")?"030":e.includes("014")?"014":"default"},92665:e=>{e.exports=function(e,t,n){for(var i=-1,r=null==e?0:e.length;++i<r;)if(n(t,e[i]))return!0;return!1}},93466:e=>{e.exports=function(){}},95871:(e,t,n)=>{"use strict";n.d(t,{R:()=>l,a:()=>o});let i={kind:"InlineDataFragment",name:"atomsCurrentArticleAtomBase"};i.hash="25a1b4646d950aa796b439421155ee85";var r=n(38353),a=n(82915);let o=(0,r.eU)(null),l=(0,r.eU)(e=>{let t=e(o);if(!t)return;let n=(0,a.readInlineData)(i,t);switch(n.__typename){case"%other":return;case"Article":return n}})},97874:e=>{e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},99348:(e,t,n)=>{"use strict";n.d(t,{a:()=>i});let i=async e=>{try{if("scheduler"in window&&window.scheduler){if(window.scheduler.yield)return window.scheduler.yield(e);if(window.scheduler.postTask)return window.scheduler.postTask(()=>{},e)}return(null==e?void 0:e.priority)==="user-blocking"?Promise.resolve():new Promise(e=>setTimeout(e))}catch{return new Promise(e=>setTimeout(e))}}}}]);
//# sourceMappingURL=7439.1278174cd2641675.js.map