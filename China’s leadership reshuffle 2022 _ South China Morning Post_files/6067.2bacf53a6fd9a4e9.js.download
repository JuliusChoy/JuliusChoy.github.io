!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="e1496da8-47cd-47bc-927f-ddaf7302e3a2",e._sentryDebugIdIdentifier="sentry-dbid-e1496da8-47cd-47bc-927f-ddaf7302e3a2")}catch(e){}}();"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6067],{2626:(e,t,n)=>{n.d(t,{m:()=>g,r:()=>b}),n(50528),n(49194),n(89968),n(8871);var i=n(94956),a=n(76228),r=n(10028),l=n(19775),o=n.n(l),s=n(62823),c=n(42497),d=n(83096),u=n(86269),p=n(24944),y=n(94663);let g=()=>{let{value:e}=(0,d.Q)("qaTestOverwriteGAClientId"),[t,n]=(0,i.Y)(async()=>{try{var t;let n="production"!==c.$.general.env&&e?e:await (0,s.EK)();if(!n)return[];let i=new URL(`${c.$.general.userTypeHost}/client-id/${n}`),r=await a.A.get(i.toString(),{withCredentials:!0});return(null==r||null==(t=r.data.data)?void 0:t.user_types)??[]}catch{return[]}});return{fetchUserTypes:n.execute,userTypes:t.result??[]}},b=()=>{var e,t;let{value:n}=(0,u.n)("qa_user_type",e=>e,{initializeWithValue:!0}),i=o().parse(window.location.search,{ignoreQueryPrefix:!0}),a="true"===i.finishedMyNews,{user:l}=(0,r.md)(p.b),s=null==l||null==(e=l.source)?void 0:e.includes("amp"),d=(0,r.md)(y.E),g=(null==d||null==(t=d.result)?void 0:t.isScmpSubscriber)??!1;return{getUserType:e=>{if("production"!==c.$.general.env&&n)return n;if(g)return"subscribers";if(a)return"myNews";if(s)return"amp";if("true"===i.firstTimeRegister&&"true"===i.signUpComplete)return"newsletter";let t=e.map(e=>e.id);return 0===t.length?"default":h(t)}}},h=e=>e.includes("018")?"018":e.includes("028")?"028":e.includes("029")?"029":e.includes("038")?"038":e.includes("083")?"083":e.includes("084")?"084":e.includes("058")?"058":e.includes("008")?"008":e.includes("057")?"057":e.includes("016")?"016":e.includes("017")?"017":e.includes("030")?"030":e.includes("014")?"014":"default"},6261:(e,t,n)=>{n.d(t,{WD:()=>i,ed:()=>r,fx:()=>o,n$:()=>l,qn:()=>a,y:()=>s});let i=function(e){return e.Follow="Follow",e.UnFollow="UnFollow",e}({}),a=function(e){return e.BlueIcon="blue-icon",e.BluePlusIcon="blue-plus-icon",e.BlueSquareIcon="blue-square-icon",e.CircleGrayIcon="circle-gray-icon",e.Text="text",e}({}),r=function(e){return e.Filled="filled",e.Outlined="outlined",e.Plain="plain",e}({}),l=function(e){return e.Compact="compact",e.Full="full",e.Large="large",e.Normal="normal",e.Small="small",e.Thin="thin",e}({}),o=function(e){return e.Dark="dark",e.Homepage="homepage",e.Light="light",e.NewsletterColumnist="newsletter-columnist",e.Style="magazines-style",e}({}),s=function(e){return e.Author="Author",e.Section="Section",e.Topic="Topic",e}({})},7982:(e,t,n)=>{n.d(t,{$:()=>s});var i=n(98503),a=n(14820),r=n(69524),l=n(99523),o=n(51623);let s=(e,t)=>{let n=(0,i.J)(t),s=(0,a.S)(),{0:c,1:d}=(0,o.useState)(()=>s&&null!=t&&t.initializeWithValue?l.A.get(e)??null:null),u=(0,o.useCallback)(t=>{l.A.set(e,t,n.current),d(t)},[e,n]),p=(0,o.useCallback)(()=>{l.A.remove(e),d(null)},[e]);return(0,r.u)(()=>{let t=l.A.get(e);!c&&t&&d(t)}),[c,u,p]}},9162:(e,t,n)=>{n.d(t,{R:()=>v,g:()=>I}),n(61100),n(52973);var i=n(33261);n(6611),n(50528),n(95429),n(45621),n(37684);var a=n(71316),r=n(98503),l=n(10028),o=n(51623),s=n(33503),c=n(42497),d=n(24944),u=n(25858),p=n(99644),y=n(39337),g=n(45664),b=n(92138);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach(function(t){(0,i.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let I=()=>{let[e,t]=(0,l.fp)(g.B),n=(0,o.useCallback)(e=>{let{ga4CustomParameter:t,isShow:n}=e;n&&(0,p.z2)(t)&&(async()=>{await (0,y.a)({priority:"background"}),(0,b.UL)({action:"imp",category:"login",customized_parameters:t,subcategory:"popup"})})()},[]);return{closeLoginDialog:(0,o.useCallback)(()=>{t(e=>f(f({},e),{},{description:"",destination:"",emailLoginTitle:"Sign In / Register",isVisible:!1,title:"Sign In / Register"})),n({ga4CustomParameter:void 0,isShow:!1})},[t,n]),loginDialogState:e,openLoginDialog:(0,o.useCallback)(e=>{t(f(f({},e),{},{description:e.description??"",emailLoginTitle:"Sign In / Register",isVisible:!0,title:e.title??"Sign In / Register",variant:"dialog"})),n({ga4CustomParameter:e.ga4CustomParameter,isShow:!0})},[t,n]),setLoginDialogState:t}},m=()=>{let{loginDialogState:e,setLoginDialogState:t}=I(),n=(0,l.Xr)(d.R),{0:i,1:r}=(0,o.useState)([]);return{attachEventHandlers:(0,o.useCallback)(()=>{e.wallType&&localStorage.removeItem(e.wallType);let i=[],l=a.on(a.EVENT.EMAIL_REGISTRATION_SUCCESS,e=>{n(e.email)});"function"==typeof l&&i.push(l);let o=a.on(a.EVENT.EMAIL_REGISTRATION_COMPLETED,t=>{location.href=(()=>{let n=new URL(window.location.href),i=new URL(`${c.$.account.registerCallbackUrl}${(0,u.QS)(t.email)}`);return i.searchParams.set("source","pwa"),e.destination&&i.searchParams.set("destination",e.destination),n.searchParams.set("destination",encodeURIComponent(i.href)),e.registrationTerm&&n.searchParams.set(e.registrationTerm,"true"),n.toString()})()});"function"==typeof o&&i.push(o);let d=a.on(a.EVENT.OPEN_WITH_EXTERNAL_BROWSER,()=>{t(e=>f(f({},e),{},{variant:"dialog-with-primary-close-button-only"}))});"function"==typeof d&&i.push(d),[{event:a.EVENT.APPLE_LOGIN_BUTTON_CLICKED,loginMethod:"Apple"},{event:a.EVENT.GOOGLE_LOGIN_BUTTON_CLICKED,loginMethod:"Google"},{event:a.EVENT.FACEBOOK_LOGIN_BUTTON_CLICKED,loginMethod:"Facebook"}].forEach(t=>{let{event:n,loginMethod:r}=t,l=a.on(n,()=>{e.wallType&&(0,s.g$)(e.wallType,r)});"function"==typeof l&&i.push(l)}),r(i)},[t,e.destination,e.registrationTerm,e.wallType,n]),detachEventHandlers:(0,o.useCallback)(()=>{0!==i.length&&(i.forEach(e=>e()),r([]))},[i])}},v=()=>{let{loginDialogState:e}=I(),{attachEventHandlers:t,detachEventHandlers:n}=m(),i=(0,r.J)(n);return{reference:(0,o.useCallback)(n=>{if(!e.isVisible||!n)return void i.current();a.init({APPLICATION:e.application,DESTINATION:e.destination});let r=(0,s.fu)();a.initLoginWidget(n.id,{destination:e.destination,emailLoginTitle:e.emailLoginTitle,isInWebView:r,loginDescription:e.description,registerSource:"regi"===e.wallType?"loginwall":"",thirdPartySignInOptions:{withApple:!0,withFacebook:!0,withGoogle:!r},title:e.title}),t()},[t,i,e.application,e.description,e.destination,e.emailLoginTitle,e.isVisible,e.title,e.wallType])}}},16699:(e,t,n)=>{n.d(t,{wm:()=>l,zW:()=>r}),n(49194),n(70897);var i=n(25249),a=n(78607);let r=(e,t)=>(null==t||!t.appBarVariant)&&e===a.z,l=e=>{let{entityId:t,parentSection:n}=e,a=[i.u.announcements.entityId,i.u.recap.entityId],r=[i.u.magazine.entityUuid,i.u.news.entityUuid];return![i.u.martialArts.entityId,i.u.olympic.entityId,i.u.us.usElections.entityId].includes(t)&&(a.includes(t)||n&&!r.includes(n))}},21774:(e,t,n)=>{n.d(t,{Z:()=>i});let i=function(e){return e.Cryptic="cryptic",e.Quick="quick",e.WordSearch="wordSearch",e}({})},24144:(e,t,n)=>{n.d(t,{J:()=>i});let i=(0,n(19764).eU)({isAccepted:!1})},26654:(e,t,n)=>{n.r(t),n.d(t,{SdkContextProvider:()=>N});var i=n(86458),a=n(80613);n(89968),n(8871);var r=n(10028),l=n(53438),o=n(51623),s=n(62436),c=n(42497),d=n(47223),u=n(98387),p=n(24944),y=n(30867),g=n(89762),b=n(35305),h=n(24144),f=n(9162),I=n(92138),m=n(34435),v=n(51166),w=n(47988),O=n(94933),k=n(2626),A=n(94663),E=n(67461),P=n(21506),T=n(96869),C=n(88107);let S=()=>{let{0:e,1:t}=(0,o.useState)(!1),n=(0,r.md)(C.T),i=(0,T.B)(n);return(0,o.useEffect)(()=>{null!=i&&i.isIntersecting&&!e&&t(!0)},[e,null==i?void 0:i.isIntersecting]),e},j=e=>{var t,n,i,a;let{asPath:T,pathname:C,query:j}=(0,l.useRouter)(),L=(0,l.useRouter)(),N=(0,g.S)(),R=(0,E.R)(),{currentArticleId:D,currentArticleUuid:_}=(0,w.v)(),U=(0,y.Sj)(),H=(0,u.O)(),{bookmarkAction:M,checkIsBookmarked:B,checkIsFollowed:K,followAction:V}=(0,P.v)(),{hasEnoughFollowedItems:z,initialHasEnoughFollowedItems:W}=(0,O.H)(),{openLoginDialog:$}=(0,f.g)(),{fetchUserTypes:G,userTypes:x}=(0,k.m)(),F=x.map(e=>e.id);(0,o.useEffect)(()=>{G()},[G]);let{navigatorInfo:q}=(0,r.md)(v.X),{user:J}=(0,r.md)(p.b),Q=(0,r.md)(A.E),{isAccepted:Y}=(0,r.md)(h.J),X=(null==Q||null==(t=Q.result)?void 0:t.hasIpAccess)??!1,Z=(null==Q||null==(n=Q.result)||null==(n=n.user)?void 0:n.isSCMPSubscriber)??!1,ee=(null==Q||null==(i=Q.result)||null==(i=i.contentServiceUserInfo)?void 0:i.isSubscriptionEnabled)??!1,et=!X&&!Z&&ee,en=(0,o.useCallback)(e=>B(e.entityId),[B]),ei=(0,o.useCallback)(e=>M(e.action,e.entityId,{ga4Events:e.trackings.ga4Events}),[M]),ea=(0,o.useCallback)(e=>K(e.followType,e.entityId),[K]),er=(0,o.useCallback)(async e=>V(e.action,e.followType,e.entityIds,null==e?void 0:e.callback),[V]),el=(0,o.useCallback)(e=>{let{description:t,destination:n,ga4CustomParameter:i,title:a}=e;$({description:t,destination:n,ga4CustomParameter:i,title:a})},[$]),eo=(0,o.useCallback)(async e=>{await N(e,{pathname:C,query:j},{shallow:!0})},[C,j,N]),es=(0,o.useCallback)(async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};await R(e,t)},[R]),ec=(0,o.useCallback)(e=>{e&&(0,I.UL)(e,{untyped:!0})},[]),ed=(0,o.useCallback)(e=>{e&&(0,m.I4)(e,{untyped:!0})},[]),eu=(0,o.useCallback)(e=>{e&&(0,s.v3)(e,{untyped:!0})},[]),ep=(0,b.Y)(),ey=S();return(0,o.useMemo)(()=>{var t;return{bookmark:{check:en,update:ei},config:{accounts:{authCallbackUrl:c.$.account.authCallbackUrl,host:c.$.account.scmpAccountHost,registerCallbackUrl:c.$.account.registerCallbackUrl},corporateSubscriber:{host:c.$.corporateSubscriber.host},environment:"dev",facebook:{appId:c.$.social.facebook.appId,likeUrl:c.$.social.facebook.likeUrl},graphql:{apiKey:c.$.graphql.contentService.apiKey,host:c.$.graphql.contentService.host},newsletter:{globalImpact:d.IA.globalImpact.entityId,lunar:d.IA.lunar.entityId,postMag:d.IA.postMag.entityId,thisWeekInAsia:d.IA.thisWeekInAsia.entityId},notification:{host:""},recaptcha:{siteKey:c.$.account.recaptchaSiteKey},siteUrl:c.$.general.siteUrl,subscribe:{host:c.$.rosetta.subscribeHost},twitter:{accountName:c.$.social.twitter.scmp.accountName}},currentArticleId:D,currentArticleUuid:_,currentPageType:H,currentRoute:T,edition:U,environment:e,handleCheckIsFollowed:ea,handleFollow:er,handleOpenLoginDialog:el,handleRemoveRouteQuery:eo,handleRoutePush:es,handleTrackGA4:ec,handleTrackGTM:ed,handleTrackMirror:eu,hasAcceptedGDPR:Y,hasEnoughFollowedItems:z,hasWhyRegisterPPTOHomepagePositionIntersected:ey,homeAsPath:ep,initialHasEnoughFollowedItems:W,isShowSubscription:et,rosettaInstance:null==Q||null==(t=Q.result)?void 0:t.instance,router:L,user:J??void 0,userCountry:null==q?void 0:q.country,userTypeIds:F}},[T,null==Q||null==(a=Q.result)?void 0:a.instance,en,ei,D,_,H,U,e,ea,er,el,eo,es,ec,ed,eu,Y,z,ey,ep,W,et,null==q?void 0:q.country,L,J,F])};var L=n(43575);let N=e=>{let{children:t}=e,n=j((0,a.Nb)());return(0,L.jsx)(i.Jh,{value:n,"data-qa":"SdkContextProvider-ContextProvider",children:t})};N.displayName="SdkContextProvider"},29816:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});let i={kind:"InlineDataFragment",name:"helpersGetTypeNameNode"};i.hash="0f61aba8d546a23246af7be8724d6a4d";let a=i},30867:(e,t,n)=>{n.d(t,{LW:()=>y,Sj:()=>p}),n(61100),n(45621),n(52973),n(6611),n(95429),n(37684);var i=n(33261);n(49194);var a=n(51623),r=n(62436),l=n(86269),o=n(74797),s=n(38825);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){(0,i.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let u=e=>Object.values(s.rJ).includes(e);function p(e){let{update:t,value:n}=(0,l.n)("scmp_edition",e=>e,d(d({},e),{},{expires:400})),i=(0,a.useRef)(null!==n),c=(0,a.useCallback)(()=>(0,o.Kg)(n)&&u(n)?n:s.rJ.International,[n]),p=(0,a.useCallback)(()=>s.RO,[]),y=(0,a.useCallback)(e=>{u(e)&&((0,r.v3)({edition:e,event_name:"edition_preference"}),t(e))},[t]);return{get:c,getOptions:p,isInitialHasSelected:i.current,update:y}}function y(e){let{get:t}=p(e);return(0,a.useMemo)(()=>t(),[t])}},34435:(e,t,n)=>{n.d(t,{I4:()=>d,W5:()=>c,gl:()=>s,oe:()=>u}),n(61100),n(45621),n(52973),n(95429),n(37684);var i=n(33261);n(6611);var a=n(74797),r=n(92138);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){(0,i.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function s(e,t){var n;null==(n=window.dataLayer)||n.push(e)}function c(e){var t;null==(t=window.dataLayer)||t.push({subscribe:(0,a.fs)(e)})}function d(e,t){var n;null==(n=window.dataLayer)||n.push(e)}function u(e){d({_clear:!0,event:"VirtualPageview",page:o(o(o({},e),(0,r.Rf)()&&{product:"plus"}),!e.page_location&&{page_location:window.location.href}),subscribe:e.subscribe})}},35084:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});let i={kind:"InlineDataFragment",name:"hooksTrackCurrentItemBase"};i.hash="a838df1567ccc1cc3ee365a3473bdfe3";let a=i},35305:(e,t,n)=>{n.d(t,{Y:()=>l});var i=n(51623),a=n(30867),r=n(38825);let l=()=>{let e=(0,a.LW)({initializeWithValue:!1});return(0,i.useMemo)(()=>e===r.rJ.International?"/":`/${e}`,[e])}},38825:(e,t,n)=>{n.d(t,{Ae:()=>d,RO:()=>s,SH:()=>o,eW:()=>c,rJ:()=>l});var i=n(33261);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){(0,i.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}n(89968),n(8871),n(61100),n(45621),n(52973),n(6611),n(95429),n(37684);let l=function(e){return e.Asia="asia",e.HongKong="hk",e.International="int",e}({}),o={[l.Asia]:{href:"/asia",label:"Asia"},[l.HongKong]:{href:"/hk",label:"Hong Kong"},[l.International]:{href:"/",label:"International"}},s=[l.International,l.HongKong,l.Asia].map(e=>r({value:e},o[e])),c=[l.HongKong,l.International,l.Asia].map(e=>r({value:e},o[e])),d={[l.Asia]:"News, opinions, infographics and videos on Asia news in China, Hong Kong, Singapore, Malaysia, India, Japan, Korea, Australia and more.",[l.HongKong]:"News, opinions, infographics and videos on HK and China issues: geopolitics, economy, law & crime, weather and lifestyle.",[l.International]:"News, opinions, infographics and videos on China issues: geopolitics, diplomacy, economy, technology and lifestyle."}},39337:(e,t,n)=>{n.d(t,{a:()=>i});let i=async e=>{try{if("scheduler"in window&&window.scheduler){if(window.scheduler.yield)return window.scheduler.yield(e);if(window.scheduler.postTask)return window.scheduler.postTask(()=>{},e)}return(null==e?void 0:e.priority)==="user-blocking"?Promise.resolve():new Promise(e=>setTimeout(e))}catch{return new Promise(e=>setTimeout(e))}}},45664:(e,t,n)=>{n.d(t,{B:()=>i});let i=(0,n(19764).eU)({description:"",destination:"",emailLoginTitle:"",isVisible:!1,title:"",variant:"dialog"})},47223:(e,t,n)=>{n.d(t,{IA:()=>a,Rb:()=>l,ct:()=>o,m3:()=>r,o0:()=>i});let i={analysisAndOpinion:{entityId:"520771"},bizTechAndEconomy:{entityId:"500007"},chinaAndAsiaUnpacked:{entityId:"500004"},educationAndParents:{entityId:"520773"},essential:{entityId:"500003"},everythingHongKong:{entityId:"520772"},lifestyleAndWeekend:{entityId:"500006"},picturesFilmsAndVideo:{entityId:"500005"},sport:{entityId:"500008"},subscriberOnly:{entityId:"521523"}},a={abacus:{entityId:"327098",entityLabel:"ABACUS"},asia:{entityId:"323063",entityLabel:"THIS WEEK IN ASIA"},behindTheHeadlines:{entityId:"521375",entityLabel:"Behind the Headlines"},betterLife:{entityId:"502407",entityLabel:void 0},breakingNews:{entityId:"323473",entityLabel:"BREAKING NEWS ALERTS"},chinaAtAGlance:{entityId:"322279",entityLabel:"China at a Glance"},chinaBusinessBriefing:{entityId:"324680",entityLabel:void 0},coronavirus:{entityId:"505280",entityLabel:"CONFIRMED CORONAVIRUS CASES"},dailyPulse:{entityId:"517578",entityLabel:"Daily Pulse"},darkMatters:{entityId:"520815",entityLabel:"Dark Matters"},exclusive:{entityId:"324915",entityLabel:void 0},globalImpact:{entityId:"506194",entityLabel:"SCMP Global Impact Newsletter"},hkBusinessBriefing:{entityId:"324679",entityLabel:void 0},hongKongUpdate:{entityId:"510083",entityLabel:"Hong Kong Update"},hundredTopTable:{entityId:"519979",entityLabel:void 0},inPictures:{entityId:"324669",entityLabel:void 0},insideChinaTech:{entityId:"329707",entityLabel:"INSIDECHINATECH"},kPop:{entityId:"507747",entityLabel:void 0},lifeAndCulture:{entityId:"322280",entityLabel:void 0},listeningPost:{entityId:"511120",entityLabel:void 0},longReads:{entityId:"324615",entityLabel:void 0},lunar:{entityId:"501957",entityLabel:void 0},marketsToday:{entityId:"500264",entityLabel:void 0},martialArts:{entityId:"502648",entityLabel:void 0},myNews:{entityId:"521524"},opinion:{entityId:"323850",entityLabel:void 0},postMag:{entityId:"322743",entityLabel:"POST MAGAZINE"},racing:{entityId:"323665",entityLabel:"HK RACING"},scmpProperty:{entityId:"322281",entityLabel:void 0},scmpTodayHk:{entityId:"20916",entityLabel:"SCMP TODAY: HK EDITION"},scmpTodayInt:{entityId:"322277",entityLabel:"SCMP TODAY: INTL EDITION"},sportingWeekend:{entityId:"519808",entityLabel:void 0},style:{entityId:"322992",entityLabel:void 0},supportScmp1:{entityId:"506605",entityLabel:void 0},supportScmp2:{entityId:"506677",entityLabel:void 0},supportScmp3:{entityId:"506597",entityLabel:void 0},supportScmp4:{entityId:"506696",entityLabel:void 0},thisWeekInAsia:{entityId:"323063",entityLabel:void 0},usChinaTradeWar:{entityId:"330177",entityLabel:void 0},video:{entityId:"323511",entityLabel:void 0}},r={"Analysis & Opinion":{childNewsletterIds:[a.globalImpact.entityId,a.darkMatters.entityId,a.opinion.entityId,a.breakingNews.entityId],packageDisplayName:"Commentary Bundle",packageId:"analysis_opinion_pkg"},"BizTech & Economy":{childNewsletterIds:[a.chinaBusinessBriefing.entityId,a.insideChinaTech.entityId,a.marketsToday.entityId,a.breakingNews.entityId],packageDisplayName:"BizTech & Economy Bundle",packageId:"biz_tech_econ_pkg"},"China & Asia unpacked":{childNewsletterIds:[a.chinaAtAGlance.entityId,a.thisWeekInAsia.entityId,a.globalImpact.entityId,a.breakingNews.entityId],packageDisplayName:"Asia & China Bundle",packageId:"china_asia_unpacked_pkg"},Essential:{childNewsletterIds:[a.scmpTodayInt.entityId,a.chinaAtAGlance.entityId,a.breakingNews.entityId,a.exclusive.entityId],packageDisplayName:"Essential Bundle",packageId:"essential_pkg"},"Everything Hong Kong":{childNewsletterIds:[a.scmpTodayHk.entityId,a.hongKongUpdate.entityId,a.lifeAndCulture.entityId,a.postMag.entityId],packageDisplayName:"City Bundle",packageId:"everything_hk_pkg"},Lifestyle:{childNewsletterIds:[a.lifeAndCulture.entityId,a.postMag.entityId,a.hundredTopTable.entityId,a.style.entityId],packageDisplayName:"Lifestyle Bundle",packageId:"lifestyle_pkg"},"Pictures, Films & Video":{childNewsletterIds:[a.inPictures.entityId],packageDisplayName:"Best of Video & Pictures",packageId:"pictures_films_video_pkg"},Sport:{childNewsletterIds:[a.sportingWeekend.entityId],packageDisplayName:"Sport",packageId:"sport_pkg"}},l={Business:["BizTech & Economy","China & Asia unpacked","Analysis & Opinion","Essential"],China:["China & Asia unpacked","BizTech & Economy","Analysis & Opinion","Essential"],Comment:["Analysis & Opinion","China & Asia unpacked","BizTech & Economy"],Economy:["BizTech & Economy","China & Asia unpacked","Analysis & Opinion","Essential"],"Hong Kong":["Everything Hong Kong","Lifestyle","BizTech & Economy","China & Asia unpacked"],"HP/ASIA":["China & Asia unpacked","Lifestyle","Pictures, Films & Video"],"HP/HK":["Everything Hong Kong","Lifestyle","BizTech & Economy","China & Asia unpacked"],"HP/INT":["Essential","China & Asia unpacked","BizTech & Economy","Analysis & Opinion"],Lifestyle:["Lifestyle","Everything Hong Kong","Pictures, Films & Video"],Live:["Essential","China & Asia unpacked","BizTech & Economy","Analysis & Opinion"],"People & Culture":["Lifestyle","Everything Hong Kong","Pictures, Films & Video"],Tech:["BizTech & Economy","China & Asia unpacked","Analysis & Opinion","Essential"],"This Week in Asia":["China & Asia unpacked","Lifestyle","Pictures, Films & Video"],World:["Essential","China & Asia unpacked","Analysis & Opinion","BizTech & Economy"]},o=[{displayName:r.Essential.packageDisplayName,newsletters:[a.scmpTodayInt.entityId,a.chinaAtAGlance.entityId,a.breakingNews.entityId,a.exclusive.entityId]},{displayName:r["Everything Hong Kong"].packageDisplayName,newsletters:[a.scmpTodayHk.entityId,a.hongKongUpdate.entityId,a.lifeAndCulture.entityId,a.postMag.entityId]},{displayName:r["BizTech & Economy"].packageDisplayName,newsletters:[a.chinaBusinessBriefing.entityId,a.insideChinaTech.entityId,a.marketsToday.entityId,a.breakingNews.entityId]},{displayName:r["China & Asia unpacked"].packageDisplayName,newsletters:[a.chinaAtAGlance.entityId,a.thisWeekInAsia.entityId,a.globalImpact.entityId,a.breakingNews.entityId]},{displayName:r.Lifestyle.packageDisplayName,newsletters:[a.lifeAndCulture.entityId,a.postMag.entityId,a.hundredTopTable.entityId,a.style.entityId]},{displayName:r["Analysis & Opinion"].packageDisplayName,newsletters:[a.globalImpact.entityId,a.darkMatters.entityId,a.opinion.entityId,a.breakingNews.entityId]}]},47988:(e,t,n)=>{n.d(t,{v:()=>d,z:()=>c});var i,a,r=n(10028),l=n(51623),o=n(70897),s=n(78818);let c=()=>{let e=(0,r.Xr)(s.a);return{trackCurrentItem:(0,l.useCallback)(t=>{if(!t)return void e(null);e((0,o.readInlineData)(void 0!==i?i:i=n(35084),t))},[e])}},d=()=>{let e=(0,r.md)(s.R);if(!e)return{currentArticleId:void 0,currentArticleUuid:void 0};let{entityId:t,entityUuid:i}=(0,o.readInlineData)(void 0!==a?a:a=n(62293),e);return{currentArticleId:t,currentArticleUuid:i}}},62293:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});let i={kind:"InlineDataFragment",name:"hooksUseCurrentArticleIdsArticle"};i.hash="3635a2a8a82bcbe711069f8c19ac4cda";let a=i},62436:(e,t,n)=>{n.d(t,{Q8:()=>s,cd:()=>o,rn:()=>u,v3:()=>c,ym:()=>d}),n(61100),n(45621),n(52973),n(95429),n(37684);var i=n(33261),a=n(44590);n(6611);let r=["event_name"];function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}let o=e=>{window.MIRROR_EVENT&&window.MIRROR_EVENT.push({event:"si",payload:{ga:[e]}})},s=e=>{var t,n;window.MIRROR_EVENT&&(null==(t=window.MIRROR_EVENT)||t.push({event:"ce",name:"content_interest",payload:e}),null==(n=window.MIRROR_EVENT)||n.push({event:"ta",payload:e,source:"content_interest"}))};function c(e,t){let{event_name:n}=e,o=(0,a.A)(e,r);void 0!==window.MIRROR_EVENT&&window.MIRROR_EVENT.push({event:"ce",name:n,payload:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){(0,i.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},o)})}let d=(e,t)=>{var n,i;null!=(n=window.MIRROR)&&n.video&&(null==(i=window.MIRROR)||null==(i=i.video)||i.add(e,t))},u=(e,t)=>{var n,i;null!=(n=window.MIRROR)&&n.video&&(null==(i=window.MIRROR)||null==(i=i.video)||i.load(e,t))}},62823:(e,t,n)=>{let i;n.d(t,{EK:()=>d,lq:()=>c}),n(36892),n(15130),n(2930),n(57216),n(82778),n(9125),n(83272),n(65336),n(93246),n(28993),n(73649),n(2168),n(93534),n(62579),n(89187),n(9655),n(20575),n(31317),n(35423),n(51256),n(36638),n(27836),n(53818);var a=n(99523),r=n(42497),l=n(68640),o=n(88142);let s=()=>{let e=a.A.get("_ga");if(!e)return null;let t=e.split(".");return t.length>=2?t.slice(-2).join("."):null},c=()=>{var e,t;if("undefined"==typeof ga)return;let n=null==(e=ga)||null==(t=e.getAll)||null==(t=t.call(e))?void 0:t[0];if(n)return n.get("clientId")},d=async()=>c()??await u(r.$.googleAnalytics.measurementId)??s()??"";async function u(e){return void 0!==i?i:i=await (0,l.s)()?Promise.resolve(void 0):new Promise(t=>{setTimeout(()=>{t(void 0)},5e3),(0,o.w)("get",e,"client_id",e=>t(e))})}},67461:(e,t,n)=>{n.d(t,{R:()=>p}),n(21218),n(45621),n(66087),n(49194),n(6611),n(69597),n(49232);var i=n(53438),a=n(19775),r=n.n(a),l=n(51623),o=n(42497),s=n(1129),c=n(41513),d=n(16699),u=n(50601);let p=()=>{let{getRouteTypeByRouteEntity:e,getUrlAliasByUrl:t}=(0,u.n)(),n=(0,i.useRouter)(),a=(e,t)=>r().stringify(t)?`${e}?${r().stringify(t)}`:e;return(0,l.useCallback)((i,r)=>{let{applicationId:l,entityId:p,query:y,type:g}=r,b=t(i),h=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"_blank";window.open(b,e)};if((0,s.A)(i)){if([o.$.account.scmpAccountHost].some(e=>i.includes(e)))return h("_self")}else{location.href=a(i,y);return}switch(e({applicationId:l,routeType:g,urlAlias:b})){case u.Y.Dynamic:{let e=c.JZ.dynamics[g];if(!e||!p)return;let t=e.route(p);if((0,d.zW)(t.pathname,y)){location.href=a(i,y);return}return n.push(t,{pathname:b,query:y})}case u.Y.Static:{let e=Object.keys(c.JZ.statics).find(e=>e===i)??Object.keys(c.JZ.statics).find(e=>e.startsWith(i));if(!e)return;let t=c.JZ.statics[e];if(!t)return;let a=t({params:{},query:y??{}});return n.push(a,a.asPath??{pathname:b,query:y})}default:return h()}},[e,t,n])}},68640:(e,t,n)=>{let i;n.d(t,{s:()=>a});let a=async()=>"undefined"!=typeof globalThis&&(i??=new Promise(e=>{let t="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js",n=new XMLHttpRequest;n.timeout=1e3,n.addEventListener("readystatechange",function(){n.readyState===XMLHttpRequest.DONE&&e(0===n.status||n.responseURL!==t)}),n.open("HEAD",t,!0),n.send(null)}))},74437:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});let i={kind:"InlineDataFragment",name:"atomsCurrentArticleAtomBase"};i.hash="fb923eac8eecf7e57362308716e830d3";let a=i},78818:(e,t,n)=>{n.d(t,{R:()=>o,a:()=>l});var i,a=n(19764),r=n(70897);let l=(0,a.eU)(null),o=(0,a.eU)(e=>{let t=e(l);if(!t)return;let a=(0,r.readInlineData)(void 0!==i?i:i=n(74437),t);switch(a.__typename){case"%other":return;case"Article":return a}})},86269:(e,t,n)=>{n.d(t,{n:()=>l});var i=n(98503),a=n(51623),r=n(7982);function l(e,t,n){let[l,o,s]=(0,r.$)(e,n),c=(0,i.J)(t);return{remove:s,update:o,value:(0,a.useMemo)(()=>l&&c.current(l),[c,l])}}},86458:(e,t,n)=>{n.d(t,{Jh:()=>h,ud:()=>g,vk:()=>f});var i=n(44590),a=n(33261);n(49194),n(50528),n(61100),n(45621),n(52973),n(6611),n(95429),n(37684);var r=n(51623),l=n(54943),o=n(93044),s=n(8605),c=n(99644),d=n(43575);let u=["config","environment"];function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){(0,a.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let g={article:{paywallTypeId:"716f570e-3083-4138-a080-47d3830fafe3"},topicType:{newsAgenda:"news_agenda"}},b=(0,r.createContext)((0,s.j)("SdkContext")),h=e=>{let{children:t,value:n}=e,{0:i,1:a}=(0,r.useState)({acquisitions:{},campaigns:{},myNews:{},topicPackageFollows:{},whyRegister:{}}),o=(0,r.useMemo)(()=>({popupState:i,setPopupState:a}),[i]),s=(0,r.useMemo)(()=>{try{var e;return new URL(n.currentRoute,null==(e=(0,c.zk)())?void 0:e.location.origin).pathname}catch{return""}},[n.currentRoute]);return(0,d.jsx)(b.Provider,{value:y(y({},n),{},{acquisition:o,currentRouteWithoutQuerystring:s}),children:(0,d.jsx)(l.G3,{reCaptchaKey:n.config.recaptcha.siteKey,"data-qa":"SdkContextProvider-GoogleReCaptchaProvider",children:t})})};h.displayName="SdkContextProvider";let f=()=>{let e=(0,r.useContext)(b),{config:t,environment:n}=e,a=(0,i.A)(e,u);return I("facebookLikeUrl",null==t?void 0:t.facebook.likeUrl),I("accountsHost",null==t?void 0:t.accounts.host),I("graphqlHost",null==t?void 0:t.graphql.host),I("subscribeHost",null==t?void 0:t.subscribe.host),y(y({},a),{},{config:t,environment:n??(0,o.M)({authOptions:{allowEmptyToken:!0},urlOptions:{headers:{apikey:t.graphql.apiKey},method:"POST",url:t.graphql.host}})})},I=(e,t)=>{if(t)try{new URL(t)}catch{}}},88107:(e,t,n)=>{n.d(t,{O:()=>r,T:()=>a});var i=n(19764);let a=(0,i.eU)(null),r=(0,i.eU)(null)},88142:(e,t,n)=>{function i(){for(var e,t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];"undefined"!=typeof window&&null!=(e=window)&&null!=(e=e.dataLayer)&&e.push&&window.dataLayer.push(arguments)}n.d(t,{w:()=>i}),n(6611)},89762:(e,t,n)=>{n.d(t,{S:()=>d,z:()=>u}),n(61100),n(45621),n(52973),n(6611),n(95429),n(37684);var i=n(33261);n(50528),n(49194);var a=n(53438),r=n(19775),l=n.n(r),o=n(51623);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){(0,i.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let d=()=>{let{replace:e}=(0,a.useRouter)();return(0,o.useCallback)(function(t,n,i){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{restOfTheQueryString:r}=u(t,window.location.search),o=new URL(location.href);return o.search=l().stringify(c(c({},r),a)),e(n,o.toString(),i)},[e])},u=(e,t)=>{let n=l().parse(t,{ignoreQueryPrefix:!0}),i={},a={};for(let t of Object.keys(n))e.includes(t)?i[t]=n[t]:a[t]=n[t];return{restOfTheQueryString:a,sanitizedQueryString:i}}},92138:(e,t,n)=>{n.d(t,{EO:()=>c,Rf:()=>o,UL:()=>s}),n(61100),n(45621),n(52973),n(95429),n(37684);var i=n(33261);n(50528),n(6611);var a=n(34435);function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){(0,i.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let o=()=>{var e;if("plus"===new URLSearchParams(window.location.search).get("display")||(null==(e=window.location.pathname.split("/"))?void 0:e[1])==="plus")return!0};function s(e,t){var n;let i=o();(0,a.gl)(l({_clear:!0,event:"GA4_tracking"},l(l({},e),{},{customized_parameters:l(l(l({},null==e?void 0:e.customized_parameters),i&&{product:"plus"}),!(null!=e&&null!=(n=e.customized_parameters)&&n.page_location)&&{page_location:window.location.href})})),t)}let c=e=>{var t;null==(t=window.dataLayer)||t.push({_clear:!1,userProperties:e})}},94933:(e,t,n)=>{n.d(t,{H:()=>s});var i=n(10028),a=n(51623),r=n(83096),l=n(13108);let o=e=>{let{0:t,1:n}=(0,a.useState)(e);return(0,a.useEffect)(()=>{t||null==e||n(e)},[t,e]),[t,n]},s=()=>{let{follows:e=[]}=(0,i.md)(l.S),{value:t}=(0,r.Q)("isVisitedMyNewsPage",{initializeWithValue:!0,parse:e=>e}),[n]=o(e),s=(0,a.useMemo)(()=>Object.values(n??{}).flat().length>=3,[n]);return{hasEnoughFollowedItems:(0,a.useMemo)(()=>e.length>=3,[e]),initialHasEnoughFollowedItems:s,isVisitedMyNewsPage:t}}}}]);
//# sourceMappingURL=6067.2bacf53a6fd9a4e9.js.map