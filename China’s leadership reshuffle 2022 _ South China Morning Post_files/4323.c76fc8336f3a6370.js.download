!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="cd31647b-d0b0-4519-a252-bb81ac89c27d",e._sentryDebugIdIdentifier="sentry-dbid-cd31647b-d0b0-4519-a252-bb81ac89c27d")}catch(e){}}();"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4323],{4323:(e,t,n)=>{n.d(t,{O:()=>v});var r=n(94413),l=n.n(r),i=n(10028),a=n(51623),o=n(98387),u=n(79823),s=n(86585),c=n(24144),d=n(94663),p=n(46857);let v=()=>{var e;let{isAccepted:t}=(0,i.md)(c.J),n=(0,i.md)(d.E),v=(0,o.O)(),{isEnableTakeoverBottomAdSlot:g}=(0,s.x)({variant:"home"}),b=(0,a.useCallback)(()=>{var e;v===u.g.Homepage&&(l().registerService("campaignPopUp"),null==(e=l().getService("campaignPopUp"))||e.addCampaignPopUpScript())},[v]),{getActiveCampaignSettings:m}=(0,p.w)();return{registerRosettaCampaignPopupService:b,shouldShowRosettaCampaignPopup:(0,a.useMemo)(()=>{var e,l;let i=m();if(!i)return!1;let a=r.Campaign.getCampaignPopupSettings(i);return!!a&&(null==n||null==(e=n.result)||null==(e=e.user)?void 0:e.isInternalStaff)!==!0&&!!(null!=(l=a.checkShouldShowCampaignPopupByDisplayInterval)&&l.call(a)&&t&&u.g.Homepage===v&&!g)},[v,t,g,m,null==n||null==(e=n.result)||null==(e=e.user)?void 0:e.isInternalStaff])}}},24144:(e,t,n)=>{n.d(t,{J:()=>r});let r=(0,n(19764).eU)({isAccepted:!1})},26256:(e,t,n)=>{n.d(t,{G3:()=>u,LZ:()=>s,T$:()=>l,ZM:()=>o,aU:()=>a}),n(49194);let r=["d_native1","d_native2","d_native2a","d_native2b","d_native2c","d_native2d","d_native2e","d_native3b","d_native5","m_native2","m_native2a","m_native2b","m_native2c","m_native2d","m_native2e","m_native5","native4","native5"];function l(e){return r.includes(e)}let i=["outstream1"];function a(e){return i.includes(e)}[...r,...i];let o=function(e){return e.Bottom="2",e.Top="1",e}({}),u=function(e){return e.Free="0",e.NotArticle="3",e.Paid="1",e.PaidArchive="1_archive",e.PaidVelocity="1_velocity",e.Sponsored="2",e}({}),s=["avg_first_second","avg_sent_1_5","gs_adult","gs_client1","gs_client2","gs_client3","gs_drugs","gs_gambling","gs_hkprotests","gs_offensive_language","gs_terrorism","gs_tobacco","gs_tragedy","gs_violence","headline_score","readability_school_level","sentiment_category","sentiment_max","sentiment_min"]},30867:(e,t,n)=>{n.d(t,{LW:()=>v,Sj:()=>p}),n(61100),n(45621),n(52973),n(6611),n(95429),n(37684);var r=n(33261);n(49194);var l=n(51623),i=n(62436),a=n(86269),o=n(74797),u=n(38825);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){(0,r.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let d=e=>Object.values(u.rJ).includes(e);function p(e){let{update:t,value:n}=(0,a.n)("scmp_edition",e=>e,c(c({},e),{},{expires:400})),r=(0,l.useRef)(null!==n),s=(0,l.useCallback)(()=>(0,o.Kg)(n)&&d(n)?n:u.rJ.International,[n]),p=(0,l.useCallback)(()=>u.RO,[]),v=(0,l.useCallback)(e=>{d(e)&&((0,i.v3)({edition:e,event_name:"edition_preference"}),t(e))},[t]);return{get:s,getOptions:p,isInitialHasSelected:r.current,update:v}}function v(e){let{get:t}=p(e);return(0,l.useMemo)(()=>t(),[t])}},45231:(e,t,n)=>{n.r(t),n.d(t,{default:()=>l});let r={kind:"InlineDataFragment",name:"atomsCurrentTakeoverAdSectionsAtomBase"};r.hash="3b59f03b1ffc59ac7ac58957e801dbee";let l=r},46857:(e,t,n)=>{n.d(t,{w:()=>o});var r=n(94413),l=n(10028),i=n(51623),a=n(94663);let o=()=>{var e,t,n;let o=(0,l.md)(a.E);return{getActiveCampaignSettings:(0,i.useCallback)(()=>{var e,t,n,l,i,a;if(!(null!=o&&null!=(e=o.result)&&e.instance))return null;let u=null==o||null==(t=o.result.instance)?void 0:t.getRosettaAppConfig(),s=null==o||null==(n=o.result)||null==(n=n.user)||null==(n=n.types)?void 0:n.scmp,c=((null==o||null==(l=o.result)?void 0:l.hasPianoExperienceExecuted)&&(null==(i=window.tp)||null==(i=i.customVariables)?void 0:i.currency))??(null==o||null==(a=o.result)||null==(a=a.instance)?void 0:a.rulesEngine.getOutcome("guest.currency"));return null!=u&&u.campaigns&&s&&c?r.Campaign.getActiveCampaignSettings({campaigns:u.campaigns,user:{currency:c,type:s}}):null},[null==o||null==(e=o.result)?void 0:e.hasPianoExperienceExecuted,null==o||null==(t=o.result)?void 0:t.instance,null==o||null==(n=o.result)||null==(n=n.user)||null==(n=n.types)?void 0:n.scmp])}}},62436:(e,t,n)=>{n.d(t,{Q8:()=>u,cd:()=>o,rn:()=>d,v3:()=>s,ym:()=>c}),n(61100),n(45621),n(52973),n(95429),n(37684);var r=n(33261),l=n(44590);n(6611);let i=["event_name"];function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}let o=e=>{window.MIRROR_EVENT&&window.MIRROR_EVENT.push({event:"si",payload:{ga:[e]}})},u=e=>{var t,n;window.MIRROR_EVENT&&(null==(t=window.MIRROR_EVENT)||t.push({event:"ce",name:"content_interest",payload:e}),null==(n=window.MIRROR_EVENT)||n.push({event:"ta",payload:e,source:"content_interest"}))};function s(e,t){let{event_name:n}=e,o=(0,l.A)(e,i);void 0!==window.MIRROR_EVENT&&window.MIRROR_EVENT.push({event:"ce",name:n,payload:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){(0,r.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},o)})}let c=(e,t)=>{var n,r;null!=(n=window.MIRROR)&&n.video&&(null==(r=window.MIRROR)||null==(r=r.video)||r.add(e,t))},d=(e,t)=>{var n,r;null!=(n=window.MIRROR)&&n.video&&(null==(r=window.MIRROR)||null==(r=r.video)||r.load(e,t))}},74437:(e,t,n)=>{n.r(t),n.d(t,{default:()=>l});let r={kind:"InlineDataFragment",name:"atomsCurrentArticleAtomBase"};r.hash="fb923eac8eecf7e57362308716e830d3";let l=r},78818:(e,t,n)=>{n.d(t,{R:()=>o,a:()=>a});var r,l=n(19764),i=n(70897);let a=(0,l.eU)(null),o=(0,l.eU)(e=>{let t=e(a);if(!t)return;let l=(0,i.readInlineData)(void 0!==r?r:r=n(74437),t);switch(l.__typename){case"%other":return;case"Article":return l}})},86585:(e,t,n)=>{n.d(t,{x:()=>h}),n(61100),n(52973),n(6611),n(95429),n(37684);var r,l=n(33261);n(49194),n(89968),n(8871),n(21218),n(45621),n(66087);var i=n(72912),a=n(10028),o=n(51623),u=n(98387),s=n(30867),c=n(79823),d=n(26256);n(37738),n(59223);var p=n(19764),v=n(70897),g=n(78818);let b=(0,p.eU)(e=>{var t,l;let i=e(g.a);if(!i)return[];let a=(0,v.readInlineData)(void 0!==r?r:r=n(45231),i);switch(a.__typename){case"Article":if(!(null!=(t=a.sections)&&t.length))return[];return a.sections.flatMap(e=>(null==e?void 0:e.value)??[]).flatMap(e=>(null==e?void 0:e.entityId)??[]);case"Section":return(null==(l=a.fullSectionPath)?void 0:l.flatMap(e=>(null==e?void 0:e.entityId)??[]))??[];default:return[]}});var m=n(95736),f=n(28874),y=n(51166),O=n(94663);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach(function(t){(0,l.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let h=e=>{var t;let{adSlotProps:n,variant:r}=e,{advertisementCampaignConfig:l,navigatorInfo:p}=(0,a.md)(y.X),v=(0,u.O)(),g=(0,a.md)(O.E),_=(0,a.md)(b),h=(0,s.LW)(),S=(0,o.useMemo)(()=>r===m.U?l.takeoverAd.style:"home"===r?l.takeoverAd.homepage:null,[l.takeoverAd.homepage,l.takeoverAd.style,r]),P=(0,i.l)(()=>{if(S)return{adSlotValue:{adUnit:"hpto1",autoRefreshOptions:{intervalRefreshOptions:{isDisable:!0}},targeting:w(w({},null==n?void 0:n.targeting),{},{hpto:d.ZM.Bottom,paid:d.G3.NotArticle}),zone:(null==n?void 0:n.zone)??"style/home"}}},[_,S,v]),R=(0,o.useMemo)(()=>(0,f.t)(_),[_]),E=(0,o.useMemo)(()=>!!S&&!!P&&(S.takeoverAlwaysEnable||(()=>{let e=new Date,t=new Date(S.startDateTime),n=new Date(S.endDateTime);return S.enableTakeoverByDateTime&&e>=t&&e<=n})()),[S,P]),j=(0,o.useMemo)(()=>{if(!S||!P)return!1;let e=r===m.U&&v===c.g.Article&&S.enableInPageTypes.article.enable,t=r===m.U&&v===c.g.Section&&R&&S.enableInPageTypes.mainSection.enable,n=r===m.U&&v===c.g.SubSection&&!R&&S.enableInPageTypes.subSection.enable,l=0===S.takeoverEdition.length&&"home"===r||"home"===r&&S.takeoverEdition.length>0&&S.takeoverEdition.includes(h);return e||t||n||l},[h,S,P,v,R,r]);return{isEnableTakeoverBottomAdSlot:(0,o.useMemo)(()=>!!S&&!!P&&!!(E&&j)&&!!((0===S.ipAddress.length||((null==p?void 0:p.ip.split(",").map(e=>e.trim()))??[]).some(e=>S.ipAddress.includes(e)))&&(()=>{let e=S.country??[];if(0===e.length)return!0;let t=(null==p?void 0:p.country)??"";return e.includes(t)})()&&(()=>{var e;if(!S.targetSubscribersOnly&&!S.targetNonSubscribersOnly||S.targetSubscribersOnly&&S.targetNonSubscribersOnly)return!0;let t=(null==g||null==(e=g.result)||null==(e=e.user)?void 0:e.isSCMPSubscriber)??!1,n=S.targetSubscribersOnly&&t,r=S.targetNonSubscribersOnly&&!t;return n||r})()),[S,P,E,j,null==p?void 0:p.ip,null==p?void 0:p.country,null==g||null==(t=g.result)||null==(t=t.user)?void 0:t.isSCMPSubscriber]),takeoverAdSlotValue:null==P?void 0:P.adSlotValue}}}}]);
//# sourceMappingURL=4323.c76fc8336f3a6370.js.map